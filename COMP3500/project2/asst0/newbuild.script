Script started on 2021-02-05 13:23:12-06:00
]777;notify;Command completed;rm config.cache]0;gemerson@localhost://home/gemerson/cs161]7;file://localhost.localdomain//home/gemerson/cs161[root@localhost cs161]# cd ker/[Kn[K[K[K[Ksrc/kern/main
]777;notify;Command completed;cd src/kern/main]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# ls
hello.c  hello.h  main.c  menu.c
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# vim hello.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;28r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[28;1H"hello.c" 7L, 169C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m"hello.h"[m
[34m// #include <stdio.h>
//Hello World Program [m
[32mvoid[m hello() {[5;9H[34m//We are using kprintf() instead of printf() for this file[m[6;9Hkprintf([31m"Hello World![m[35m\n[m[31m"[m);
}
[94m~                                                                                     [9;1H~                                                                                     [10;1H~                                                                                     [11;1H~                                                                                     [12;1H~                                                                                     [13;1H~                                                                                     [14;1H~                                                                                     [15;1H~                                                                                     [16;1H~                                                                                     [17;1H~                                                                                     [18;1H~                                                                                     [19;1H~                                                                                     [20;1H~                                                                                     [21;1H~                                                                                     [22;1H~                                                                                     [23;1H~                                                                                     [24;1H~                                                                                     [25;1H~                                                                                     [26;1H~                                                                                     [27;1H~                                                                                     [m[28;69H2,21[10CAll[2;21H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[38;5;81m#include [m[95m"hello.h"[m
[96m// #include <stdio.h>
//Hello World Program [m
[38;5;121mvoid[m hello() {[5;9H[96m//We are using kprintf() instead of printf() for this file[m[6;9Hkprintf([95m"Hello World![m[38;5;224m\n[m[95m"[m);
}
[94m~                                                                                     [9;1H~                                                                                     [10;1H~                                                                                     [11;1H~                                                                                     [12;1H~                                                                                     [13;1H~                                                                                     [14;1H~                                                                                     [15;1H~                                                                                     [16;1H~                                                                                     [17;1H~                                                                                     [18;1H~                                                                                     [19;1H~                                                                                     [20;1H~                                                                                     [21;1H~                                                                                     [22;1H~                                                                                     [23;1H~                                                                                     [24;1H~                                                                                     [25;1H~                                                                                     [26;1H~                                                                                     [27;1H~                                                                                     [m[28;69H2,21[10CAll"hello.c" 7L, 169C[2;21H[?25h[?25l[28;59H:[2;21H[28;1H[K[28;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[28;1H[K[28;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]777;notify;Command completed;vim hello.c]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# vim hello.h
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;28r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[28;1H"hello.h" 6L, 79C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#ifndef _HELLO_H_
#define _HELLO_H_[m

[32mvoid[m hello([32mvoid[m);

[35m#endif[m [34m/* _HELLO_H_ */[m
[94m~                                                                                     [8;1H~                                                                                     [9;1H~                                                                                     [10;1H~                                                                                     [11;1H~                                                                                     [12;1H~                                                                                     [13;1H~                                                                                     [14;1H~                                                                                     [15;1H~                                                                                     [16;1H~                                                                                     [17;1H~                                                                                     [18;1H~                                                                                     [19;1H~                                                                                     [20;1H~                                                                                     [21;1H~                                                                                     [22;1H~                                                                                     [23;1H~                                                                                     [24;1H~                                                                                     [25;1H~                                                                                     [26;1H~                                                                                     [27;1H~                                                                                     [m[28;69H6,22[10CAll[6;22H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[38;5;81m#ifndef _HELLO_H_
#define _HELLO_H_[m

[38;5;121mvoid[m hello([38;5;121mvoid[m);

[38;5;81m#endif[m [96m/* _HELLO_H_ */[m
[94m~                                                                                     [8;1H~                                                                                     [9;1H~                                                                                     [10;1H~                                                                                     [11;1H~                                                                                     [12;1H~                                                                                     [13;1H~                                                                                     [14;1H~                                                                                     [15;1H~                                                                                     [16;1H~                                                                                     [17;1H~                                                                                     [18;1H~                                                                                     [19;1H~                                                                                     [20;1H~                                                                                     [21;1H~                                                                                     [22;1H~                                                                                     [23;1H~                                                                                     [24;1H~                                                                                     [25;1H~                                                                                     [26;1H~                                                                                     [27;1H~                                                                                     [m[28;69H6,22[10CAll"hello.h" 6L, 79C[6;22H[?25h[?25l[28;59H:[6;22H[28;1H[K[28;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[28;1H[K[28;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]777;notify;Command completed;vim hello.h]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# vim main.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;28r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[28;1H"main.c" 168L, 3570C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/*
 * Main.
 */[m

[35m#include [m[31m<types.h>[m
[35m#include [m[31m<kern/errno.h>[m
[35m#include [m[31m<kern/unistd.h>[m
[35m#include [m[31m<lib.h>[m
[35m#include [m[31m<machine/spl.h>[m
[35m#include [m[31m<test.h>[m
[35m#include [m[31m<synch.h>[m
[35m#include [m[31m<thread.h>[m
[35m#include [m[31m<scheduler.h>[m
[35m#include [m[31m<dev.h>[m
[35m#include [m[31m<vfs.h>[m
[35m#include [m[31m<vm.h>[m
[35m#include [m[31m<syscall.h>[m
[35m#include [m[31m<version.h>[m
[35m#include [m[31m"hello.h"[m
[34m/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at [m[31m1[m[34m and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.[m[28;69H19,18[9CTop[19;18H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m/*
 * Main.
 */[m

[38;5;81m#include [m[95m<types.h>[m
[38;5;81m#include [m[95m<kern/errno.h>[m
[38;5;81m#include [m[95m<kern/unistd.h>[m
[38;5;81m#include [m[95m<lib.h>[m
[38;5;81m#include [m[95m<machine/spl.h>[m
[38;5;81m#include [m[95m<test.h>[m
[38;5;81m#include [m[95m<synch.h>[m
[38;5;81m#include [m[95m<thread.h>[m
[38;5;81m#include [m[95m<scheduler.h>[m
[38;5;81m#include [m[95m<dev.h>[m
[38;5;81m#include [m[95m<vfs.h>[m
[38;5;81m#include [m[95m<vm.h>[m
[38;5;81m#include [m[95m<syscall.h>[m
[38;5;81m#include [m[95m<version.h>[m
[38;5;81m#include [m[95m"hello.h"[m
[96m/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at [m[95m1[m[96m and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.[m[28;69H19,18[9CTop"main.c" 168L, 3570C[19;18H[?25h[?25l[28;69H20,2 [20;2H[?25h[?25l[28;70H1[21;2H[?25h[?25l[28;59H~@k[21;2H[28;59H   [22;2H[28;70H2[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;1H[K[28;69H23,2[11C0%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;[28;69H[K[28;69H24,2[11C1%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];[28;69H[K[28;69H25,2[11C2%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H26,2[11C2%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H27,2[11C3%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m * Copyright message for the OS/[m[95m161[m[96m base code.[m[28;69H[K[28;69H28,2[11C4%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H29,2[11C4%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[28;69H[K[28;69H30,2[11C5%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;5H[95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[28;69H[K[28;69H31,0-1[9C6%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[28;69H[K[28;69H32,2[11C7%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H33,2[11C7%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H34,2[11C8%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H35,2[11C9%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Initial boot sequence.[m[28;69H[K[28;69H36,2[11C9%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H37,2[10C10%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H38,0-1[8C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H39,0-1[8C12%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1Hboot([38;5;121mvoid[m)[28;69H[K[28;69H40,2[10C12%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H41,2[10C13%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/*[m[28;69H[K[28;69H42,2[10C14%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m         * The order of these is important![m[28;69H[K[28;69H43,2[10C14%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * Don't go changing it without thinking about the consequences.[m[28;69H[K[28;69H44,2[10C15%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         *[m[28;69H[K[28;69H45,2[10C16%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m         * Among other things, be aware that console output gets[m[28;69H[K[28;69H46,1[10C17%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * buffered up at first and does not actually appear until[m[28;69H[K[28;69H47,1-8[8C17%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[28;69H[K[28;69H48,1-8[8C18%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[28;69H[K[28;69H49,1-8[8C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * don't put new code before dev_bootstrap if you don't[m[28;69H[K[28;69H50,1-8[8C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * absolutely have to.[m[28;69H[K[28;69H51,1-8[8C20%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         *[m[28;69H[K[28;69H52,1-8[8C21%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * Also note that the buffer for this is only 1k. If you[m[28;69H[K[28;69H53,1-8[8C21%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * overflow it, the system will crash without printing[m[28;69H[K[28;69H54,1-8[8C22%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         * anything at all. You can make it larger though (it's in[m[28;69H[K[28;69H55,1-8[8C23%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * dev/generic/console.c).[m[28;69H[K[28;69H56,1-8[8C24%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         */[m[28;69H[K[28;69H57,1-8[8C24%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H58,1-8[8C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H59,1-8[8C26%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[28;69H[K[28;69H60,1-8[8C26%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[28;69H[K[28;69H61,1-8[8C27%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H62,1-8[8C28%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H63,0-1[8C29%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[28;69H[K[28;69H64,1-8[8C29%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17HGROUP_VERSION, buildconfig, buildversion);[28;69H[K[28;69H65,1-8[8C30%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mvoid[m hello([38;5;121mvoid[m);[28;69H[K[28;69H66,1-8[8C31%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H67,1-8[8C31%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H68,0-1[8C32%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hram_bootstrap();[28;69H[K[28;69H69,1-8[8C33%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hscheduler_bootstrap();[28;69H[K[28;69H70,1-8[8C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hthread_bootstrap();[28;69H[K[28;69H71,1-8[8C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_bootstrap();[28;69H[K[28;69H72,1-8[8C35%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hdev_bootstrap();[28;69H[K[28;69H73,0-1[8C36%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvm_bootstrap();[28;69H[K[28;69H74,1-8[8C36%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf_bootstrap();[28;69H[K[28;69H75,1-8[8C37%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H76,1-8[8C38%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;69H[K[28;69H77,1-8[8C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_setbootfs([95m"emu0"[m);[28;69H[K[28;69H78,1-8[8C39%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H79,1-8[8C40%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H80,1-8[8C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/*[m[28;69H[K[28;69H81,0-1[8C41%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * Make sure various things aren't screwed up.[m[28;69H[K[28;69H82,1-8[8C42%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         */[m[28;69H[K[28;69H83,1-8[8C43%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[28;69H[K[28;69H84,0-1[8C43%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[28;69H[K[28;69H85,0-1[8C44%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H86,1-8[8C45%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H87,1-8[8C46%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H88,1-8[8C46%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Shutdown sequence. Opposite to boot().[m[28;69H[K[28;69H89,1-8[8C47%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H90,1-8[8C48%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H91,1[10C48%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H92,0-1[8C49%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hshutdown([38;5;121mvoid[m)[28;69H[K[28;69H93,2[10C50%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H94,2[10C51%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H95,2[10C51%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H96,2[10C52%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H97,2[10C53%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_clearbootfs();[28;69H[K[28;69H98,2[10C53%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_clearcurdir();[28;69H[K[28;69H99,1[10C54%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hvfs_unmountall();[28;69H[K[28;69H100,0-1[7C55%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H101,1-8[7C56%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hsplhigh();[28;69H[K[28;69H102,1-8[7C56%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H103,1-8[7C57%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hscheduler_shutdown();[28;69H[K[28;69H104,1-8[7C58%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hthread_shutdown();[28;69H[K[28;69H105,1-8[7C58%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H106,0-1[7C59%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H107,1-8[7C60%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*****************************************/[m[28;69H[K[28;69H108,0-1[7C60%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H109,1-8[7C61%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H110,1-8[7C62%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[10;1H[46m{[22;1H}[m[27;1H[96m * reboot() system call.[m[28;69H[K[28;69H111,1[9C63%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[9;1H{[21;1H}[27;1H[96m *[m[28;69H[K[28;69H112,0-1[7C63%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Note: this is here because it's directly related to the code above,[m[28;69H[K[28;69H113,2[9C64%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * not because this is where system call code should go. Other syscall[m[28;69H[K[28;69H114,0-1[7C65%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m * code should probably live in the [m[95m"userprog"[m[96m directory.[m[28;69H[K[28;69H115,2[9C65%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H116,2[9C66%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H117,2[9C67%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hsys_reboot([38;5;121mint[m code)[28;69H[K[28;69H118,2[9C68%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H119,2[9C68%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H120,2[9C69%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H121,2[9C70%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H122,2[9C70%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H123,2[9C71%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H124,1[9C72%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mdefault[m:[28;69H[K[28;69H125,1-8[7C73%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H126,1-8[7C73%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H127,1-8[7C74%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H128,1-8[7C75%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hshutdown();[28;69H[K[28;69H129,1-8[7C75%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H130,1-8[7C76%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H131,1-8[7C77%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H132,1-8[7C78%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H133,0-1[7C78%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_halt();[28;69H[K[28;69H134,1-8[7C79%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H135,0-1[7C80%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H136,1-8[7C80%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Rebooting...[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H137,1-8[7C81%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_reboot();[28;69H[K[28;69H138,1-8[7C82%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H139,1-8[7C82%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H140,1-8[7C83%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H141,1-8[7C84%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hmd_poweroff();[28;69H[K[28;69H142,1-8[7C85%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H143,1-8[7C85%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H144,1-8[7C86%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H145,1-8[7C87%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hpanic([95m"reboot operation failed[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H146,1-8[7C87%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H147,1-8[7C88%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H148,1-8[7C89%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H149,1-8[7C90%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H150,0-1[7C90%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[m[28;69H[K[28;69H151,1-8[7C91%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * request, and then shut down.[m[28;69H[K[28;69H152,1-8[7C92%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H153,1[9C92%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H154,0-1[7C93%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hkmain([38;5;121mchar[m *arguments)[28;69H[K[28;69H155,2[9C94%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H156,2[9C95%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;9Hboot();[28;69H[K[28;69H157,2[9C95%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H158,2[9C96%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmenu(arguments);[28;69H[K[28;69H159,2[9C97%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H160,2[9C97%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Should not get here */[m[28;69H[K[28;69H161,1[9C98%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H162,1-8[7C99%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H163,0-1[7CBot[22;1H[?25h[?25l[28;71H4,1-8[23;8H[?25h[?25l[28;71H5,0-1[24;1H[?25h[?25l[28;59H~@k[24;1H[28;59H   [25;8H[28;71H6,1-8[25;8H[?25h[?25l[28;71H7[26;8H[?25h[?25l[20;1H[46m{[27;1H}[m[28;71H8,1  [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[20;1H{[27;1H}[28;71H7,1-8[26;8H[?25h[?25l[28;71H6[25;8H[?25h[?25l[28;59H~@k[25;8H[28;59H   [24;1H[28;71H5,0-1[24;1H[?25h[?25l[28;71H4,1-8[23;8H[?25h[?25l[28;71H3,0-1[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [21;8H[28;71H2,1-8[21;8H[?25h[?25l[20;1H[46m{[27;1H}[m[28;71H1,1  [20;1H[?25h[?25l{[27;1H}[28;71H0,2[19;2H[?25h[?25l[28;59H~@k[19;2H[28;59H   [18;2H[28;70H59[18;2H[?25h[?25l[28;71H8[17;2H[?25h[?25l[28;71H7[16;2H[?25h[?25l[28;59H~@k[16;2H[28;59H   [15;2H[28;71H6[15;2H[?25h[?25l[28;71H5[14;2H[?25h[?25l[28;71H4,0-1[13;1H[?25h[?25l[28;59H~@k[13;1H[28;59H   [12;1H[28;71H3,1  [12;1H[?25h[?25l[28;71H2,1-8[11;8H[?25h[?25l[28;71H1[10;8H[?25h[?25l[28;59H~@k[10;8H[28;59H   [9;1H[28;71H0,0-1[9;1H[?25h[?25l[28;70H49,1-8[8;8H[?25h[?25l[28;71H8[7;8H[?25h[?25l[28;59H~@k[7;8H[28;59H   [6;8H[28;71H7[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H146,1-8[7C99%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mbreak[m;[28;69H[K[28;69H145,1-8[7C98%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;17Hmd_halt();[28;69H[K[28;69H144,1-8[7C97%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H143,1-8[7C97%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_HALT:[28;69H[K[28;69H142,1-8[7C96%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9H[93mswitch[m (code) {[28;69H[K[28;69H141,1-8[7C95%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H140,1-8[7C95%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hshutdown();[28;69H[K[28;69H139,1-8[7C94%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H138,1-8[7C93%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H}[28;69H[K[28;69H137,1-8[7C92%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H136,1-8[7C92%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;13H[93mdefault[m:[28;69H[K[28;69H135,0-1[7C91%[6;1H[?25h[?25l[28;71H6,1-8[7;8H[?25h[?25l[28;71H7[8;8H[?25h[?25l[28;59H~@k[8;8H[28;59H   [9;8H[28;71H8[9;8H[?25h[?25l[28;71H7[8;8H[?25h[?25l[28;71H6[7;8H[?25h[?25l[28;59H~@k[7;8H[28;59H   [6;1H[28;71H5,0-1[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mbreak[m;[28;69H[K[28;69H134,1-8[7C90%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H133,0-1[7C90%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_HALT:[28;69H[K[28;69H132,1-8[7C89%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H131,1-8[7C88%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[93mswitch[m (code) {[28;69H[K[28;69H130,1-8[7C87%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H{[28;69H[K[28;69H129,1-8[7C87%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hsys_reboot([38;5;121mint[m code)[28;69H[K[28;69H128,1-8[7C86%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mint[m[28;69H[K[28;69H127,1-8[7C85%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H126,1-8[7C85%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * code should probably live in the [m[95m"userprog"[m[96m directory.[m[28;69H[K[28;69H125,1-8[7C84%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * not because this is where system call code should go. Other syscall[m[28;69H[K[28;69H124,1[9C83%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m * Note: this is here because it's directly related to the code above,[m[28;69H[K[28;69H123,2[9C82%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m *[m[28;69H[K[28;69H122,2[9C82%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * reboot() system call.[m[28;69H[K[28;69H121,2[9C81%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H120,2[9C80%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H119,2[9C80%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*****************************************/[m[28;69H[K[28;69H118,2[9C79%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H117,2[9C78%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H}[28;69H[K[28;69H116,2[9C78%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hthread_shutdown();[28;69H[K[28;69H115,2[9C77%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hscheduler_shutdown();[28;69H[K[28;69H114,0-1[7C76%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H113,2[9C75%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hsplhigh();[28;69H[K[28;69H112,0-1[7C75%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H111,1[9C74%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_unmountall();[28;69H[K[28;69H110,1-8[7C73%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_clearcurdir();[28;69H[K[28;69H109,1-8[7C73%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hvfs_clearbootfs();[28;69H[K[28;69H108,0-1[7C72%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H107,1-8[7C71%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H106,0-1[7C70%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H105,1-8[7C70%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H{[28;69H[K[28;69H104,1-8[7C69%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hshutdown([38;5;121mvoid[m)[28;69H[K[28;69H103,1-8[7C68%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[38;5;121mvoid[m[28;69H[K[28;69H102,1-8[7C68%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mstatic[m[28;69H[K[28;69H101,1-8[7C67%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H100,0-1[7C66%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;1H[96m * Shutdown sequence. Opposite to boot().[m[6;1H[46m{[18;1H}[m[28;69H[K[28;69H99,1[10C65%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[7;1H{[19;1H}[28;69H[K[28;69H98,2[10C65%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H97,2[10C64%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H}[28;69H[K[28;69H96,2[10C63%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[28;69H[K[28;69H95,2[10C63%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[28;69H[K[28;69H94,2[10C62%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m         */[m[28;69H[K[28;69H93,2[10C61%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * Make sure various things aren't screwed up.[m[28;69H[K[28;69H92,0-1[8C60%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[96m/*[m[28;69H[K[28;69H91,1[10C60%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H90,1-8[8C59%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H89,1-8[8C58%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_setbootfs([95m"emu0"[m);[28;69H[K[28;69H88,1-8[8C58%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;69H[K[28;69H87,1-8[8C57%[6;8H[?25h[?25l[28;70H8[7;8H[?25h[?25l[28;70H9[8;8H[?25h[?25l[28;59H~@k[8;8H[28;59H   [9;8H[28;69H90[9;8H[?25h[?25l[28;70H1,1  [10;1H[?25h[?25l[28;70H2,0-1[11;1H[?25h[?25l[28;59H~@k[11;1H[28;59H   [12;2H[28;70H3,2  [12;2H[?25h[?25l[28;70H4[13;2H[?25h[?25l[28;70H5[14;2H[?25h[?25l[28;59H~@k[14;2H[28;59H   [15;2H[28;70H6[15;2H[?25h[?25l[28;70H7[16;2H[?25h[?25l[28;70H8[17;2H[?25h[?25l[28;59H~@k[17;2H[28;59H   [18;1H[28;70H9,1[18;1H[?25h[?25l[28;69H100,0-1[19;1H[?25h[?25l[28;71H1,1-8[20;8H[?25h[?25l[28;59H~@k[20;8H[28;59H   [21;8H[28;71H2[21;8H[?25h[?25l[28;71H3[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hscheduler_shutdown();[28;69H[K[28;69H104,1-8[7C58%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hthread_shutdown();[28;69H[K[28;69H105,1-8[7C58%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H106,0-1[7C59%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H107,1-8[7C60%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m/*****************************************/[m[28;69H[K[28;69H108,0-1[7C60%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H109,1-8[7C61%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H110,1-8[7C62%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[10;1H[46m{[22;1H}[m[27;1H[96m * reboot() system call.[m[28;69H[K[28;69H111,1[9C63%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[9;1H{[21;1H}[27;1H[96m *[m[28;69H[K[28;69H112,0-1[7C63%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Note: this is here because it's directly related to the code above,[m[28;69H[K[28;69H113,2[9C64%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * not because this is where system call code should go. Other syscall[m[28;69H[K[28;69H114,0-1[7C65%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * code should probably live in the [m[95m"userprog"[m[96m directory.[m[28;69H[K[28;69H115,2[9C65%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H116,2[9C66%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H117,2[9C67%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hsys_reboot([38;5;121mint[m code)[28;69H[K[28;69H118,2[9C68%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H119,2[9C68%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H120,2[9C69%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H121,2[9C70%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H122,2[9C70%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H123,2[9C71%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H124,1[9C72%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mdefault[m:[28;69H[K[28;69H125,1-8[7C73%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H126,1-8[7C73%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H127,1-8[7C74%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H128,1-8[7C75%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hshutdown();[28;69H[K[28;69H129,1-8[7C75%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H130,1-8[7C76%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H131,1-8[7C77%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H132,1-8[7C78%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H133,0-1[7C78%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_halt();[28;69H[K[28;69H134,1-8[7C79%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H135,0-1[7C80%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H136,1-8[7C80%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Rebooting...[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H137,1-8[7C81%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hmd_reboot();[28;69H[K[28;69H138,1-8[7C82%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H139,1-8[7C82%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H140,1-8[7C83%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H141,1-8[7C84%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_poweroff();[28;69H[K[28;69H142,1-8[7C85%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H143,1-8[7C85%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H144,1-8[7C86%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H145,1-8[7C87%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hpanic([95m"reboot operation failed[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H146,1-8[7C87%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H147,1-8[7C88%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H148,1-8[7C89%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H149,1-8[7C90%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H150,0-1[7C90%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[m[28;69H[K[28;69H151,1-8[7C91%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * request, and then shut down.[m[28;69H[K[28;69H152,1-8[7C92%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H153,1[9C92%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H154,0-1[7C93%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hkmain([38;5;121mchar[m *arguments)[28;69H[K[28;69H155,2[9C94%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H156,2[9C95%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hboot();[28;69H[K[28;69H157,2[9C95%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H158,2[9C96%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;9Hmenu(arguments);[28;69H[K[28;69H159,2[9C97%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H160,2[9C97%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Should not get here */[m[28;69H[K[28;69H161,1[9C98%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H162,1-8[7C99%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H163,0-1[7CBot[22;1H[?25h[?25l[28;71H4,1-8[23;8H[?25h[?25l[28;59H~@k[23;8H[28;59H   [24;1H[28;71H5,0-1[24;1H[?25h[?25l[28;71H6,1-8[25;8H[?25h[?25l[28;71H7[26;8H[?25h[?25l[28;59H~@k[26;8H[28;59H   [27;1H[20;1H[46m{[27;1H}[m[28;71H8,1  [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[20;1H{[27;1H}[28;71H7,1-8[26;8H[?25h[?25l[28;71H6[25;8H[?25h[?25l[28;59H~@k[25;8H[28;59H   [24;1H[28;71H5,0-1[24;1H[?25h[?25l[28;71H4,1-8[23;8H[?25h[?25l[28;71H3,0-1[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [21;8H[28;71H2,1-8[21;8H[?25h[?25l[20;1H[46m{[27;1H}[m[28;71H1,1  [20;1H[?25h[?25l{[27;1H}[28;71H0,2[19;2H[?25h[?25l[28;59H~@k[19;2H[28;59H   [18;2H[28;70H59[18;2H[?25h[?25l[28;71H8[17;2H[?25h[?25l[28;71H7[16;2H[?25h[?25l[28;59H~@k[16;2H[28;59H   [15;2H[28;71H6[15;2H[?25h[?25l[28;71H5[14;2H[?25h[?25l[28;71H4,0-1[13;1H[?25h[?25l[28;59H~@k[13;1H[28;59H   [12;1H[28;71H3,1  [12;1H[?25h[?25l[28;71H2,1-8[11;8H[?25h[?25l[28;71H1[10;8H[?25h[?25l[28;59H~@k[10;8H[28;59H   [9;1H[28;71H0,0-1[9;1H[?25h[?25l[28;70H49,1-8[8;8H[?25h[?25l[28;71H8[7;8H[?25h[?25l[28;59H~@k[7;8H[28;59H   [6;8H[28;71H7[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H146,1-8[7C99%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mbreak[m;[28;69H[K[28;69H145,1-8[7C98%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;17Hmd_halt();[28;69H[K[28;69H144,1-8[7C97%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H143,1-8[7C97%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_HALT:[28;69H[K[28;69H142,1-8[7C96%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9H[93mswitch[m (code) {[28;69H[K[28;69H141,1-8[7C95%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H140,1-8[7C95%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hshutdown();[28;69H[K[28;69H139,1-8[7C94%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H138,1-8[7C93%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H}[28;69H[K[28;69H137,1-8[7C92%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H136,1-8[7C92%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;13H[93mdefault[m:[28;69H[K[28;69H135,0-1[7C91%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[93mbreak[m;[28;69H[K[28;69H134,1-8[7C90%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H133,0-1[7C90%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_HALT:[28;69H[K[28;69H132,1-8[7C89%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H131,1-8[7C88%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[93mswitch[m (code) {[28;69H[K[28;69H130,1-8[7C87%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H{[28;69H[K[28;69H129,1-8[7C87%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hsys_reboot([38;5;121mint[m code)[28;69H[K[28;69H128,1-8[7C86%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mint[m[28;69H[K[28;69H127,1-8[7C85%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H126,1-8[7C85%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * code should probably live in the [m[95m"userprog"[m[96m directory.[m[28;69H[K[28;69H125,1-8[7C84%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * not because this is where system call code should go. Other syscall[m[28;69H[K[28;69H124,1[9C83%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m * Note: this is here because it's directly related to the code above,[m[28;69H[K[28;69H123,2[9C82%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m *[m[28;69H[K[28;69H122,2[9C82%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * reboot() system call.[m[28;69H[K[28;69H121,2[9C81%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H120,2[9C80%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H119,2[9C80%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*****************************************/[m[28;69H[K[28;69H118,2[9C79%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H117,2[9C78%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H}[28;69H[K[28;69H116,2[9C78%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hthread_shutdown();[28;69H[K[28;69H115,2[9C77%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hscheduler_shutdown();[28;69H[K[28;69H114,0-1[7C76%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H113,2[9C75%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hsplhigh();[28;69H[K[28;69H112,0-1[7C75%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H111,1[9C74%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_unmountall();[28;69H[K[28;69H110,1-8[7C73%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_clearcurdir();[28;69H[K[28;69H109,1-8[7C73%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hvfs_clearbootfs();[28;69H[K[28;69H108,0-1[7C72%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H107,1-8[7C71%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H106,0-1[7C70%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H105,1-8[7C70%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H{[28;69H[K[28;69H104,1-8[7C69%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hshutdown([38;5;121mvoid[m)[28;69H[K[28;69H103,1-8[7C68%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[38;5;121mvoid[m[28;69H[K[28;69H102,1-8[7C68%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mstatic[m[28;69H[K[28;69H101,1-8[7C67%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H100,0-1[7C66%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;1H[96m * Shutdown sequence. Opposite to boot().[m[6;1H[46m{[18;1H}[m[28;69H[K[28;69H99,1[10C65%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[7;1H{[19;1H}[28;69H[K[28;69H98,2[10C65%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H97,2[10C64%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H}[28;69H[K[28;69H96,2[10C63%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[28;69H[K[28;69H95,2[10C63%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[28;69H[K[28;69H94,2[10C62%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m         */[m[28;69H[K[28;69H93,2[10C61%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * Make sure various things aren't screwed up.[m[28;69H[K[28;69H92,0-1[8C60%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[96m/*[m[28;69H[K[28;69H91,1[10C60%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H90,1-8[8C59%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H89,1-8[8C58%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_setbootfs([95m"emu0"[m);[28;69H[K[28;69H88,1-8[8C58%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;69H[K[28;69H87,1-8[8C57%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H86,1-8[8C56%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf_bootstrap();[28;69H[K[28;69H85,0-1[8C56%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hvm_bootstrap();[28;69H[K[28;69H84,0-1[8C55%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hdev_bootstrap();[28;69H[K[28;69H83,1-8[8C54%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hvfs_bootstrap();[28;69H[K[28;69H82,1-8[8C53%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;9Hthread_bootstrap();[28;69H[K[28;69H81,0-1[8C53%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hscheduler_bootstrap();[28;69H[K[28;69H80,1-8[8C52%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hram_bootstrap();[28;69H[K[28;69H79,1-8[8C51%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H78,1-8[8C51%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H77,1-8[8C50%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;121mvoid[m hello([38;5;121mvoid[m);[28;69H[K[28;69H76,1-8[8C49%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;17HGROUP_VERSION, buildconfig, buildversion);[28;69H[K[28;69H75,1-8[8C48%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[28;69H[K[28;69H74,1-8[8C48%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H73,0-1[8C47%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H72,1-8[8C46%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[28;69H[K[28;69H71,1-8[8C46%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[28;69H[K[28;69H70,1-8[8C45%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H69,1-8[8C44%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H68,0-1[8C43%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         */[m[28;69H[K[28;69H67,1-8[8C43%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m         * dev/generic/console.c).[m[28;69H[K[28;69H66,1-8[8C42%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * anything at all. You can make it larger though (it's in[m[28;69H[K[28;69H65,1-8[8C41%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * overflow it, the system will crash without printing[m[28;69H[K[28;69H64,1-8[8C41%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;1H[96m         * Also note that the buffer for this is only 1k. If you[m[28;69H[K[28;69H63,0-1[8C40%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         *[m[28;69H[K[28;69H62,1-8[8C39%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * absolutely have to.[m[28;69H[K[28;69H61,1-8[8C39%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m         * don't put new code before dev_bootstrap if you don't[m[28;69H[K[28;69H60,1-8[8C38%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[28;69H[K[28;69H59,1-8[8C37%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[28;69H[K[28;69H58,1-8[8C36%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m         * buffered up at first and does not actually appear until[m[28;69H[K[28;69H57,1-8[8C36%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * Among other things, be aware that console output gets[m[28;69H[K[28;69H56,1-8[8C35%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         *[m[28;69H[K[28;69H55,1-8[8C34%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[96m         * Don't go changing it without thinking about the consequences.[m[28;69H[K[28;69H54,1-8[8C34%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m         * The order of these is important![m[28;69H[K[28;69H53,1-8[8C33%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[96m/*[m[28;69H[K[28;69H52,1-8[8C32%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H{[28;69H[K[28;69H51,1-8[8C31%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hboot([38;5;121mvoid[m)[28;69H[K[28;69H50,1-8[8C31%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mvoid[m[28;69H[K[28;69H49,1-8[8C30%[6;8H[?25h[?25l[28;59H~@k[6;8H[28;59H   [6;8H[1;27r[1;1H[L[1;28r[1;1H[38;5;121mstatic[m[28;69H[K[28;69H48,1-8[8C29%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H47,1-8[8C29%[6;8H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * Initial boot sequence.[m[28;69H[K[28;69H46,1[10C28%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H45,2[10C27%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H44,2[10C26%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[28;69H[K[28;69H43,2[10C26%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[28;69H[K[28;69H42,2[10C25%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[28;69H[K[28;69H41,2[10C24%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[28;69H[K[28;69H40,2[10C24%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;1H[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H39,0-1[8C23%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * Copyright message for the OS/[m[95m161[m[96m base code.[m[28;69H[K[28;69H38,0-1[8C22%[6;1H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H37,2[10C21%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H36,2[10C21%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];[28;69H[K[28;69H35,2[10C20%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;[28;69H[K[28;69H34,2[10C19%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H33,2[10C19%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * same one you just built.[m[28;69H[K[28;69H32,2[10C18%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * to make it easy to make sure that the kernel you just booted is the[m[28;69H[K[28;69H31,0-1[8C17%[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m * The purpose is not to show off how many kernels you've linked, but[m[28;69H[K[28;69H30,2[10C17%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m *[m[28;69H[K[28;69H29,2[10C16%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * buildversion starts at [m[95m1[m[96m and is incremented every time you link a kernel. [m[28;69H[K[28;69H28,2[10C15%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m * buildconfig is the name of the config file the kernel was configured with.[m[28;69H[K[28;69H27,2[10C14%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * These two pieces of data are maintained by the makefiles and build system.[m[28;69H[K[28;69H26,2[10C14%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H25,2[10C13%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m"hello.h"[m[28;69H[K[28;69H24,2[10C12%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<version.h>[m[28;69H[K[28;69H23,2[10C12%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<syscall.h>[m[28;69H[K[28;69H22,2[10C11%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<vm.h>[m[28;69H[K[28;69H21,2[10C10%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<vfs.h>[m[28;69H[K[28;69H20,2[11C9%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<dev.h>[m[28;69H[K[28;69H19,2[11C9%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<scheduler.h>[m[28;69H[K[28;69H18,2[11C8%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<thread.h>[m[28;69H[K[28;69H17,2[11C7%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<synch.h>[m[28;69H[K[28;69H16,2[11C7%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<test.h>[m[28;69H[K[28;69H15,2[11C6%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<machine/spl.h>[m[28;69H[K[28;69H14,2[11C5%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<lib.h>[m[28;69H[K[28;69H13,2[11C4%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<kern/unistd.h>[m[28;69H[K[28;69H12,2[11C4%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<kern/errno.h>[m[28;69H[K[28;69H11,2[11C3%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;81m#include [m[95m<types.h>[m[28;69H[K[28;69H10,2[11C2%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[28;69H[K[28;69H9,2[12C2%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m */[m[28;69H[K[28;69H8,2[12C1%[6;2H[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[96m * Main.[m[28;69H[K[28;69H7,2[12C0%[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [6;2H[1;27r[1;1H[L[1;28r[1;1H[96m/*[m[28;69H[K[28;69H6,2[11CTop[6;2H[?25h[?25l[28;69H5[5;2H[?25h[?25l[28;69H4,0-1[4;1H[?25h[?25l[28;59H~@k[4;1H[28;59H   [3;2H[28;69H3,2  [3;2H[?25h[?25l[28;69H2[2;2H[?25h[?25l[28;69H1[1;2H[?25h[?25l[28;59H~@k[1;2H[28;59H   [1;2H[?25h[?25l[28;59H~@k[1;2H[28;59H   [1;2H[?25h[?25l[28;59H~@k[1;2H[28;59H   [1;2H[?25h[?25l[28;59H~@k[1;2H[28;59H   [1;2H[?25h[?25l[28;69H2[2;2H[?25h[?25l[28;69H3[3;2H[?25h[?25l[28;59H~@k[3;2H[28;59H   [4;1H[28;69H4,0-1[4;1H[?25h[?25l[28;69H5,2  [5;2H[?25h[?25l[28;69H6[6;2H[?25h[?25l[28;59H~@k[6;2H[28;59H   [7;2H[28;69H7[7;2H[?25h[?25l[28;69H8[8;2H[?25h[?25l[28;69H9[9;2H[?25h[?25l[28;59H~@k[9;2H[28;59H   [10;2H[28;69H10,2[10;2H[?25h[?25l[28;70H1[11;2H[?25h[?25l[28;70H2[12;2H[?25h[?25l[28;59H~@k[12;2H[28;59H   [13;2H[28;70H3[13;2H[?25h[?25l[28;70H4[14;2H[?25h[?25l[28;70H5[15;2H[?25h[?25l[28;59H~@k[15;2H[28;59H   [16;2H[28;70H6[16;2H[?25h[?25l[28;70H7[17;2H[?25h[?25l[28;70H8[18;2H[?25h[?25l[28;59H~@k[18;2H[28;59H   [19;2H[28;70H9[19;2H[?25h[?25l[28;69H20[20;2H[?25h[?25l[28;70H1[21;2H[?25h[?25l[28;59H~@k[21;2H[28;59H   [22;2H[28;70H2[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H23,2[11C0%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;[28;69H[K[28;69H24,2[11C1%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];[28;69H[K[28;69H25,2[11C2%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H26,2[11C2%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H27,2[11C3%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m * Copyright message for the OS/[m[95m161[m[96m base code.[m[28;69H[K[28;69H28,2[11C4%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H29,2[11C4%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[28;69H[K[28;69H30,2[11C5%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;5H[95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[28;69H[K[28;69H31,0-1[9C6%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[28;69H[K[28;69H32,2[11C7%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H33,2[11C7%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H34,2[11C8%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H35,2[11C9%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Initial boot sequence.[m[28;69H[K[28;69H36,2[11C9%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H37,2[10C10%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H38,0-1[8C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H39,0-1[8C12%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1Hboot([38;5;121mvoid[m)[28;69H[K[28;69H40,2[10C12%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H41,2[10C13%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/*[m[28;69H[K[28;69H42,2[10C14%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m         * The order of these is important![m[28;69H[K[28;69H43,2[10C14%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * Don't go changing it without thinking about the consequences.[m[28;69H[K[28;69H44,2[10C15%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         *[m[28;69H[K[28;69H45,2[10C16%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m         * Among other things, be aware that console output gets[m[28;69H[K[28;69H46,1[10C17%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * buffered up at first and does not actually appear until[m[28;69H[K[28;69H47,1-8[8C17%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[28;69H[K[28;69H48,1-8[8C18%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[28;69H[K[28;69H49,1-8[8C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * don't put new code before dev_bootstrap if you don't[m[28;69H[K[28;69H50,1-8[8C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * absolutely have to.[m[28;69H[K[28;69H51,1-8[8C20%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         *[m[28;69H[K[28;69H52,1-8[8C21%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * Also note that the buffer for this is only 1k. If you[m[28;69H[K[28;69H53,1-8[8C21%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * overflow it, the system will crash without printing[m[28;69H[K[28;69H54,1-8[8C22%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         * anything at all. You can make it larger though (it's in[m[28;69H[K[28;69H55,1-8[8C23%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         * dev/generic/console.c).[m[28;69H[K[28;69H56,1-8[8C24%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         */[m[28;69H[K[28;69H57,1-8[8C24%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H58,1-8[8C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H59,1-8[8C26%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[28;69H[K[28;69H60,1-8[8C26%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[28;69H[K[28;69H61,1-8[8C27%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H62,1-8[8C28%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H63,0-1[8C29%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[28;69H[K[28;69H64,1-8[8C29%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17HGROUP_VERSION, buildconfig, buildversion);[28;69H[K[28;69H65,1-8[8C30%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mvoid[m hello([38;5;121mvoid[m);[28;69H[K[28;69H66,1-8[8C31%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H67,1-8[8C31%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H68,0-1[8C32%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hram_bootstrap();[28;69H[K[28;69H69,1-8[8C33%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hscheduler_bootstrap();[28;69H[K[28;69H70,1-8[8C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hthread_bootstrap();[28;69H[K[28;69H71,1-8[8C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_bootstrap();[28;69H[K[28;69H72,1-8[8C35%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hdev_bootstrap();[28;69H[K[28;69H73,0-1[8C36%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvm_bootstrap();[28;69H[K[28;69H74,1-8[8C36%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf_bootstrap();[28;69H[K[28;69H75,1-8[8C37%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H76,1-8[8C38%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;69H[K[28;69H77,1-8[8C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_setbootfs([95m"emu0"[m);[28;69H[K[28;69H78,1-8[8C39%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H79,1-8[8C40%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H80,1-8[8C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/*[m[28;69H[K[28;69H81,0-1[8C41%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m         * Make sure various things aren't screwed up.[m[28;69H[K[28;69H82,1-8[8C42%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m         */[m[28;69H[K[28;69H83,1-8[8C43%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[28;69H[K[28;69H84,0-1[8C43%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[28;69H[K[28;69H85,0-1[8C44%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H86,1-8[8C45%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H87,1-8[8C46%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H88,1-8[8C46%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Shutdown sequence. Opposite to boot().[m[28;69H[K[28;69H89,1-8[8C47%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H90,1-8[8C48%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H91,1[10C48%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H92,0-1[8C49%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hshutdown([38;5;121mvoid[m)[28;69H[K[28;69H93,2[10C50%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H94,2[10C51%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H95,2[10C51%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H96,2[10C52%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H97,2[10C53%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_clearbootfs();[28;69H[K[28;69H98,2[10C53%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_clearcurdir();[28;69H[K[28;69H99,1[10C54%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hvfs_unmountall();[28;69H[K[28;69H100,0-1[7C55%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H101,1-8[7C56%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hsplhigh();[28;69H[K[28;69H102,1-8[7C56%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H103,1-8[7C57%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hscheduler_shutdown();[28;69H[K[28;69H104,1-8[7C58%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hthread_shutdown();[28;69H[K[28;69H105,1-8[7C58%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H106,0-1[7C59%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H107,1-8[7C60%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*****************************************/[m[28;69H[K[28;69H108,0-1[7C60%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H109,1-8[7C61%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H110,1-8[7C62%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[10;1H[46m{[22;1H}[m[27;1H[96m * reboot() system call.[m[28;69H[K[28;69H111,1[9C63%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[9;1H{[21;1H}[27;1H[96m *[m[28;69H[K[28;69H112,0-1[7C63%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Note: this is here because it's directly related to the code above,[m[28;69H[K[28;69H113,2[9C64%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * not because this is where system call code should go. Other syscall[m[28;69H[K[28;69H114,0-1[7C65%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1H[96m * code should probably live in the [m[95m"userprog"[m[96m directory.[m[28;69H[K[28;69H115,2[9C65%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H116,2[9C66%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H117,2[9C67%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;1Hsys_reboot([38;5;121mint[m code)[28;69H[K[28;69H118,2[9C68%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H119,2[9C68%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H120,2[9C69%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H121,2[9C70%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H122,2[9C70%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H123,2[9C71%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H124,1[9C72%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mdefault[m:[28;69H[K[28;69H125,1-8[7C73%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H126,1-8[7C73%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H127,1-8[7C74%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H128,1-8[7C75%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hshutdown();[28;69H[K[28;69H129,1-8[7C75%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H130,1-8[7C76%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mswitch[m (code) {[28;69H[K[28;69H131,1-8[7C77%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_HALT:[28;69H[K[28;69H132,1-8[7C78%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H133,0-1[7C78%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_halt();[28;69H[K[28;69H134,1-8[7C79%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H135,0-1[7C80%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_REBOOT:[28;69H[K[28;69H136,1-8[7C80%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Rebooting...[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H137,1-8[7C81%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmd_reboot();[28;69H[K[28;69H138,1-8[7C82%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H139,1-8[7C82%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[93mcase[m RB_POWEROFF:[28;69H[K[28;69H140,1-8[7C83%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H141,1-8[7C84%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hmd_poweroff();[28;69H[K[28;69H142,1-8[7C85%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mbreak[m;[28;69H[K[28;69H143,1-8[7C85%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H144,1-8[7C86%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H145,1-8[7C87%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hpanic([95m"reboot operation failed[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H146,1-8[7C87%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H147,1-8[7C88%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H148,1-8[7C89%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H149,1-8[7C90%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H150,0-1[7C90%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[m[28;69H[K[28;69H151,1-8[7C91%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * request, and then shut down.[m[28;69H[K[28;69H152,1-8[7C92%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H153,1[9C92%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H154,0-1[7C93%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hkmain([38;5;121mchar[m *arguments)[28;69H[K[28;69H155,2[9C94%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H156,2[9C95%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[27;9Hboot();[28;69H[K[28;69H157,2[9C95%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H158,2[9C96%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmenu(arguments);[28;69H[K[28;69H159,2[9C97%[22;2H[?25h[?25l[28;59H~@k[22;2H[28;59H   [22;2H[1;27r[27;1H
[1;28r[28;69H[K[28;69H160,2[9C97%[22;2H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Should not get here */[m[28;69H[K[28;69H161,1[9C98%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H162,1-8[7C99%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H163,0-1[7CBot[22;1H[?25h[?25l[28;71H4,1-8[23;8H[?25h[?25l[28;71H5,0-1[24;1H[?25h[?25l[28;59H~@k[24;1H[28;59H   [25;8H[28;71H6,1-8[25;8H[?25h[?25l[28;71H7[26;8H[?25h[?25l[20;1H[46m{[27;1H}[m[28;71H8,1  [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H~@k[27;1H[28;59H   [27;1H[?25h[?25l[28;59H:[27;1H[28;59H[K[28;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[28;1H[K[28;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]777;notify;Command completed;vim main.c]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# vim menu.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;28r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[28;1H"menu.c" 654L, 12277C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/*
 * In-kernel menu and command dispatcher.
 */[m

[35m#include [m[31m<types.h>[m
[35m#include [m[31m<kern/errno.h>[m
[35m#include [m[31m<kern/unistd.h>[m
[35m#include [m[31m<kern/limits.h>[m
[35m#include [m[31m<lib.h>[m
[35m#include [m[31m<clock.h>[m
[35m#include [m[31m<thread.h>[m
[35m#include [m[31m<syscall.h>[m
[35m#include [m[31m<uio.h>[m
[35m#include [m[31m<vfs.h>[m
[35m#include [m[31m<sfs.h>[m
[35m#include [m[31m<test.h>[m
[35m#include [m[31m"opt-synchprobs.h"[m
[35m#include [m[31m"opt-sfs.h"[m
[35m#include [m[31m"opt-net.h"[m

[35m#define _PATH_SHELL [m[31m"/bin/sh"[m

[35m#define MAXMENUARGS  [m[31m16[m

[32mvoid[m
getinterval([32mtime_t[m s1, [32mu_int32_t[m ns1, [32mtime_t[m s2, [32mu_int32_t[m ns2,[27;13H[32mtime_t[m *rs, [32mu_int32_t[m *rns)[28;69H1,1[11CTop[1;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m/*
 * In-kernel menu and command dispatcher.
 */[m

[38;5;81m#include [m[95m<types.h>[m
[38;5;81m#include [m[95m<kern/errno.h>[m
[38;5;81m#include [m[95m<kern/unistd.h>[m
[38;5;81m#include [m[95m<kern/limits.h>[m
[38;5;81m#include [m[95m<lib.h>[m
[38;5;81m#include [m[95m<clock.h>[m
[38;5;81m#include [m[95m<thread.h>[m
[38;5;81m#include [m[95m<syscall.h>[m
[38;5;81m#include [m[95m<uio.h>[m
[38;5;81m#include [m[95m<vfs.h>[m
[38;5;81m#include [m[95m<sfs.h>[m
[38;5;81m#include [m[95m<test.h>[m
[38;5;81m#include [m[95m"opt-synchprobs.h"[m
[38;5;81m#include [m[95m"opt-sfs.h"[m
[38;5;81m#include [m[95m"opt-net.h"[m

[38;5;81m#define _PATH_SHELL [m[95m"/bin/sh"[m

[38;5;81m#define MAXMENUARGS  [m[95m16[m

[38;5;121mvoid[m
getinterval([38;5;121mtime_t[m s1, [38;5;121mu_int32_t[m ns1, [38;5;121mtime_t[m s2, [38;5;121mu_int32_t[m ns2,[27;13H[38;5;121mtime_t[m *rs, [38;5;121mu_int32_t[m *rns)[28;69H1,1[11CTop"menu.c" 654L, 12277C[1;1H[?25h[?25l[28;69H2[2;1H[?25h[?25l[28;69H3[3;1H[?25h[?25l[28;59H~@k[3;1H[28;59H   [4;1H[28;69H4,0-1[4;1H[?25h[?25l[28;69H5,1  [5;1H[?25h[?25l[28;69H6[6;1H[?25h[?25l[28;59H~@k[6;1H[28;59H   [7;1H[28;69H7[7;1H[?25h[?25l[28;69H8[8;1H[?25h[?25l[28;69H9[9;1H[?25h[?25l[28;59H~@k[9;1H[28;59H   [10;1H[28;69H10,1[10;1H[?25h[?25l[28;70H1[11;1H[?25h[?25l[28;70H2[12;1H[?25h[?25l[28;59H~@k[12;1H[28;59H   [13;1H[28;70H3[13;1H[?25h[?25l[28;70H4[14;1H[?25h[?25l[28;70H5[15;1H[?25h[?25l[28;59H~@k[15;1H[28;59H   [16;1H[28;70H6[16;1H[?25h[?25l[28;70H7[17;1H[?25h[?25l[28;70H8[18;1H[?25h[?25l[28;59H~@k[18;1H[28;59H   [19;1H[28;70H9[19;1H[?25h[?25l[28;69H20,0-1[20;1H[?25h[?25l[28;70H1,1  [21;1H[?25h[?25l[28;59H~@k[21;1H[28;59H   [22;1H[28;70H2,0-1[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;1H[K[28;69H23,1[11C0%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (ns2 < ns1) {[28;69H[K[28;69H24,0-1[9C0%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hns2 += [95m1000000000[m;[28;69H[K[28;69H25,1[11C0%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hs2--;[28;69H[K[28;69H26,1[11C0%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H27,1-8[9C0%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H28,1[11C0%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H*rns = ns2 - ns1;[28;69H[K[28;69H29,1-8[9C1%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H*rs = s2 - s1;[28;69H[K[28;69H30,1-8[9C1%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H31,1-8[9C1%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H32,1-8[9C1%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m////////////////////////////////////////////////////////////[m[28;69H[K[28;69H33,0-1[9C1%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m//[m[28;69H[K[28;69H34,1-8[9C1%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m// Command menu functions [m[28;69H[K[28;69H35,1-8[9C2%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[14;1H[46m{[22;1H}[m[28;69H[K[28;69H36,1[11C2%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[13;1H{[21;1H}[27;1H[96m/*[m[28;69H[K[28;69H37,0-1[9C2%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Function for a thread that runs an arbitrary userlevel program by[m[28;69H[K[28;69H38,1[11C2%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * name.[m[28;69H[K[28;69H39,1[11C2%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H40,1[11C2%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Note: this cannot pass arguments to the program. You may wish to [m[28;69H[K[28;69H41,0-1[9C3%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * change it so it can, because that will make testing much easier[m[28;69H[K[28;69H42,1[11C3%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * in the future.[m[28;69H[K[28;69H43,1[11C3%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H44,1[11C3%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * It copies the program name because runprogram destroys the copy[m[28;69H[K[28;69H45,1[11C3%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * it gets by passing it to vfs_open(). [m[28;69H[K[28;69H46,1[11C3%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H47,1[11C3%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H48,1[11C4%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H49,1[11C4%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_progthread([38;5;121mvoid[m *ptr, [38;5;121munsigned[m [38;5;121mlong[m nargs)[28;69H[K[28;69H50,1[11C4%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H51,1[11C4%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m **args = ptr;[28;69H[K[28;69H52,1[11C4%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m progname[[95m128[m];[28;69H[K[28;69H53,1[11C4%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m result;[28;69H[K[28;69H54,1[11C5%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H55,1[11C5%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hassert(nargs >= [95m1[m);[28;69H[K[28;69H56,1[11C5%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H57,1-8[9C5%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs > [95m2[m) {[28;69H[K[28;69H58,1-8[9C5%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Warning: argument passing from menu not supported[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H59,1-8[9C5%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H60,0-1[9C6%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H61,1-8[9C6%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Hope we fit. */[m[28;69H[K[28;69H62,0-1[9C6%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hassert(strlen(args[[95m0[m]) < [93msizeof[m(progname));[28;69H[K[28;69H63,1-8[9C6%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H64,1-8[9C6%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hstrcpy(progname, args[[95m0[m]);[28;69H[K[28;69H65,1-8[9C6%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H66,0-1[9C7%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hresult = runprogram(progname);[28;69H[K[28;69H67,1-8[9C7%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (result) {[28;69H[K[28;69H68,1-8[9C7%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Running program [m[38;5;224m%s[m[95m failed: [m[38;5;224m%s\n[m[95m"[m, args[[95m0[m],[28;69H[K[28;69H69,0-1[9C7%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;25Hstrerror(result));[28;69H[K[28;69H70,1-8[9C7%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m;[28;69H[K[28;69H71,0-1[9C7%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H72,1-8[9C7%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H73,1-8[9C8%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* NOTREACHED: runprogram only returns on error. */[m[28;69H[K[28;69H74,1-8[9C8%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H75,1-8[9C8%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H76,1-8[9C8%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H77,1-8[9C8%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Common code for cmd_prog and cmd_shell.[m[28;69H[K[28;69H78,0-1[9C8%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H79,1-8[9C9%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Note that this does not wait for the subprogram to finish, but[m[28;69H[K[28;69H80,1[11C9%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * returns immediately to the menu. This is usually not what you want,[m[28;69H[K[28;69H81,0-1[9C9%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * so you should have it call your system-calls-assignment waitpid[m[28;69H[K[28;69H82,1[11C9%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * code after forking.[m[28;69H[K[28;69H83,1[11C9%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H84,1[11C9%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * Also note that because the subprogram's thread uses the [m[95m"args"[m[28;69H[K[28;69H85,1[10C10%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * array and strings, until you do this a race condition exists[m[28;69H[K[28;69H86,1[10C10%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * between that code and the menu input code.[m[28;69H[K[28;69H87,1[10C10%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H88,1[10C10%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H89,1[10C10%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H90,1[10C10%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1Hcommon_prog([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H91,1[10C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H92,1[10C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m result;[28;69H[K[28;69H93,1[10C11%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H94,1[10C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;81m#if OPT_SYNCHPROBS[m[28;69H[K[28;69H95,1[10C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Warning: this probably won't work with a "[m[28;69H[K[28;69H96,1[10C11%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17H[95m"synchronization-problems kernel.[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H97,1[10C11%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;81m#endif[m[28;69H[K[28;69H98,1-8[8C12%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H99,0-1[8C12%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hresult = thread_fork(args[[95m0[m] [96m/* thread name */[m,[28;69H[K[28;69H100,1[9C12%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;25Hargs [96m/* thread arg */[m, nargs [96m/* thread arg */[m,[28;69H[K[28;69H101,1-8[7C12%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;25Hcmd_progthread, [95mNULL[m);[28;69H[K[28;69H102,1-8[7C12%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[93mif[m (result) {[28;69H[K[28;69H103,1[9C12%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"thread_fork failed: [m[38;5;224m%s\n[m[95m"[m, strerror(result));[28;69H[K[28;69H104,0-1[7C13%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m result;[28;69H[K[28;69H105,1-8[7C13%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H106,1-8[7C13%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H107,1-8[7C13%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H108,1-8[7C13%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H109,1-8[7C13%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H110,1-8[7C14%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H111,1-8[7C14%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * Command for running an arbitrary userlevel program.[m[28;69H[K[28;69H112,0-1[7C14%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H113,1-8[7C14%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[5;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H114,1[9C14%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[4;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H115,0-1[7C14%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_prog([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H116,1[9C14%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H117,1[9C15%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs < [95m2[m) {[28;69H[K[28;69H118,1[9C15%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: p program [arguments][m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H119,1[9C15%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H120,1[9C15%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H121,1[9C15%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H122,1[9C15%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* drop the leading [m[95m"p"[m[96m */[m[28;69H[K[28;69H123,1-8[7C16%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9Hargs++;[28;69H[K[28;69H124,1-8[7C16%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hnargs--;[28;69H[K[28;69H125,1-8[7C16%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H126,1-8[7C16%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m common_prog(nargs, args);[28;69H[K[28;69H127,0-1[7C16%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H128,1-8[7C16%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H129,1-8[7C17%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H130,1-8[7C17%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for starting the system shell.[m[28;69H[K[28;69H131,0-1[7C17%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H132,1-8[7C17%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[11;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H133,1[9C17%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[10;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H134,0-1[7C17%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_shell([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H135,1[9C18%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H136,1[9C18%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H137,1[9C18%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs != [95m1[m) {[28;69H[K[28;69H138,1[9C18%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: s[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H139,1[9C18%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H140,1[9C18%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H141,1[9C18%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H142,1-8[7C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hargs[[95m0[m] = ([38;5;121mchar[m *)_PATH_SHELL;[28;69H[K[28;69H143,1-8[7C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H144,1-8[7C19%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m common_prog(nargs, args);[28;69H[K[28;69H145,1-8[7C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H146,1-8[7C19%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H147,0-1[7C19%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H148,1-8[7C20%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for changing directory.[m[28;69H[K[28;69H149,0-1[7C20%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H150,1-8[7C20%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[12;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H151,1[9C20%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[11;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H152,0-1[7C20%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_chdir([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H153,1[9C20%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H154,1[9C21%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs != [95m2[m) {[28;69H[K[28;69H155,1[9C21%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: cd directory[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H156,1[9C21%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H157,1[9C21%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H158,1[9C21%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H159,1[9C21%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m vfs_chdir(args[[95m1[m]);[28;69H[K[28;69H160,1-8[7C22%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H161,1-8[7C22%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H162,1-8[7C22%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H163,1-8[7C22%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for printing the current directory.[m[28;69H[K[28;69H164,0-1[7C22%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H165,1-8[7C22%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[15;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H166,1[9C22%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[14;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H167,0-1[7C23%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_pwd([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H168,1[9C23%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H169,1[9C23%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m buf[PATH_MAX+[95m1[m];[28;69H[K[28;69H170,1[9C23%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mstruct[m uio ku;[28;69H[K[28;69H171,1[9C23%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m result;[28;69H[K[28;69H172,1[9C23%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H173,1[9C24%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)nargs;[28;69H[K[28;69H174,1[9C24%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H175,1-8[7C24%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H176,1-8[7C24%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmk_kuio(&ku, buf, [93msizeof[m(buf)-[95m1[m, [95m0[m, UIO_READ);[28;69H[K[28;69H177,1-8[7C24%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hresult = vfs_getcwd(&ku);[28;69H[K[28;69H178,0-1[7C24%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (result) {[28;69H[K[28;69H179,1-8[7C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"vfs_getcwd failed ([m[38;5;224m%s[m[95m)[m[38;5;224m\n[m[95m"[m, strerror(result));[28;69H[K[28;69H180,1-8[7C25%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17H[93mreturn[m result;[28;69H[K[28;69H181,0-1[7C25%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H182,1-8[7C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H183,1-8[7C25%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[96m/* null terminate */[m[28;69H[K[28;69H184,1-8[7C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hbuf[[93msizeof[m(buf)-[95m1[m-ku.uio_resid] = [95m0[m;[28;69H[K[28;69H185,1-8[7C25%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H186,1-8[7C26%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[96m/* print it */[m[28;69H[K[28;69H187,1-8[7C26%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m%s\n[m[95m"[m, buf);[28;69H[K[28;69H188,0-1[7C26%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H189,1-8[7C26%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H190,1-8[7C26%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H191,0-1[7C26%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H192,1-8[7C27%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H193,1-8[7C27%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for running sync.[m[28;69H[K[28;69H194,0-1[7C27%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H195,1-8[7C27%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H196,1[9C27%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H197,0-1[7C27%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_sync([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H198,1[9C28%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H199,1[9C28%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)nargs;[28;69H[K[28;69H200,1[9C28%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H201,1[9C28%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H202,1[9C28%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hvfs_sync();[28;69H[K[28;69H203,1[9C28%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H204,1[9C29%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H205,1-8[7C29%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H206,1-8[7C29%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H207,0-1[7C29%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H208,1-8[7C29%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for doing an intentional panic.[m[28;69H[K[28;69H209,0-1[7C29%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H210,1-8[7C29%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[15;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H211,1[9C30%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[14;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H212,0-1[7C30%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_panic([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H213,1[9C30%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H214,1[9C30%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)nargs;[28;69H[K[28;69H215,1[9C30%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H216,1[9C30%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H217,1[9C31%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hpanic([95m"User requested panic[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H218,1[9C31%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H219,1[9C31%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H220,1-8[7C31%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H221,1-8[7C31%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H222,0-1[7C31%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m * Command for shutting down.[m[28;69H[K[28;69H223,1-8[7C32%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H224,1-8[7C32%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[16;1H[46m{[22;1H}[m[27;1H[38;5;121mstatic[m[28;69H[K[28;69H225,1[9C32%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[15;1H{[21;1H}[27;1H[38;5;121mint[m[28;69H[K[28;69H226,0-1[7C32%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_quit([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H227,1[9C32%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H228,1[9C32%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)nargs;[28;69H[K[28;69H229,1[9C33%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H230,1[9C33%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H231,1[9C33%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hvfs_sync();[28;69H[K[28;69H232,1[9C33%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hsys_reboot(RB_POWEROFF);[28;69H[K[28;69H233,1[9C33%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hthread_exit();[28;69H[K[28;69H234,1-8[7C33%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H235,1-8[7C33%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H236,0-1[7C34%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H237,1-8[7C34%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H238,1-8[7C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command for mounting a filesystem.[m[28;69H[K[28;69H239,1-8[7C34%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H240,1-8[7C34%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[14;1H[46m{[22;1H}[m[28;69H[K[28;69H241,1[9C34%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[13;1H{[21;1H}[27;1H[96m/* Table of mountable filesystem types. */[m[28;69H[K[28;69H242,0-1[7C35%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mstruct[m {[28;69H[K[28;69H243,1[9C35%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[38;5;121mconst[m [38;5;121mchar[m *name;[28;69H[K[28;69H244,1[9C35%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m (*func)([38;5;121mconst[m [38;5;121mchar[m *device);[28;69H[K[28;69H245,1[9C35%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H} mounttable[] = {[28;69H[K[28;69H246,0-1[7C35%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;81m#if OPT_SFS[m[28;69H[K[28;69H247,1[9C35%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H{ [95m"sfs"[m, sfs_mount },[28;69H[K[28;69H248,1[9C36%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;81m#endif[m[28;69H[K[28;69H249,1-8[7C36%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H{ [95mNULL[m, [95mNULL[m }[28;69H[K[28;69H250,1-8[7C36%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[19;21H[46m{


}[m[27;1H};[28;69H[K[28;69H251,1[9C36%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[18;21H{


}[28;69H[K[28;69H252,1[9C36%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H253,1-8[7C36%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H254,1[9C37%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_mount([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H255,1-8[7C37%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[17;18H[46m{[22;1H}[m[27;1H{[28;69H[K[28;69H256,1[9C37%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[16;18H{[21;1H}[27;9H[38;5;121mchar[m *fstype;[28;69H[K[28;69H257,0-1[7C37%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m *device;[28;69H[K[28;69H258,1[9C37%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m i;[28;69H[K[28;69H259,1[9C37%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H260,1[9C37%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs != [95m3[m) {[28;69H[K[28;69H261,1[9C38%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: mount fstype device:[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H262,1-8[7C38%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H263,1-8[7C38%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H264,1-8[7C38%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H265,0-1[7C38%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hfstype = args[[95m1[m];[28;69H[K[28;69H266,1-8[7C38%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdevice = args[[95m2[m];[28;69H[K[28;69H267,1-8[7C39%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H268,1-8[7C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Allow (but do not require) colon after device name */[m[28;69H[K[28;69H269,1-8[7C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (device[strlen(device)-[95m1[m]==[95m':'[m) {[28;69H[K[28;69H270,0-1[7C39%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17Hdevice[strlen(device)-[95m1[m] = [95m0[m;[28;69H[K[28;69H271,1-8[7C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H272,1-8[7C39%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H273,0-1[7C40%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mfor[m (i=[95m0[m; mounttable[i].name; i++) {[28;69H[K[28;69H274,1-8[7C40%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mif[m (!strcmp(mounttable[i].name, fstype)) {[28;69H[K[28;69H275,1-8[7C40%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;25H[93mreturn[m mounttable[i].func(device);[28;69H[K[28;69H276,1-8[7C40%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;17H}[28;69H[K[28;69H277,1-8[7C40%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H278,0-1[7C40%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"Unknown filesystem type [m[38;5;224m%s\n[m[95m"[m, fstype);[28;69H[K[28;69H279,1-8[7C40%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H280,1-8[7C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H281,1-8[7C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H282,1-8[7C41%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H283,1-8[7C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H284,1-8[7C41%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_unmount([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H285,1-8[7C41%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H286,1[9C42%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m *device;[28;69H[K[28;69H287,0-1[7C42%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H288,1[9C42%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs != [95m2[m) {[28;69H[K[28;69H289,1[9C42%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: unmount device:[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H290,1[9C42%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H291,1[9C42%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H292,1-8[7C43%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H293,0-1[7C43%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdevice = args[[95m1[m];[28;69H[K[28;69H294,1-8[7C43%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[28;69H[K[28;69H295,1-8[7C43%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[96m/* Allow (but do not require) colon after device name */[m[28;69H[K[28;69H296,1-8[7C43%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (device[strlen(device)-[95m1[m]==[95m':'[m) {[28;69H[K[28;69H297,1-8[7C43%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hdevice[strlen(device)-[95m1[m] = [95m0[m;[28;69H[K[28;69H298,0-1[7C44%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H299,1-8[7C44%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H300,0-1[7C44%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mreturn[m vfs_unmount(device);[28;69H[K[28;69H301,1-8[7C44%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H302,1-8[7C44%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H303,1-8[7C44%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m/*[m[28;69H[K[28;69H304,1-8[7C44%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m * Command to set the [m[95m"boot fs"[m[96m. [m[28;69H[K[28;69H305,0-1[7C45%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H306,1-8[7C45%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[6;1H[46m{[22;1H}[m[27;1H[96m * The boot filesystem is the one that pathnames like /bin/sh with[m[28;69H[K[28;69H307,1[9C45%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[5;1H{[21;1H}[27;1H[96m * leading slashes refer to.[m[28;69H[K[28;69H308,0-1[7C45%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m *[m[28;69H[K[28;69H309,1[9C45%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[96m * The default bootfs is [m[95m"emu0"[m[96m.[m[28;69H[K[28;69H310,1[9C45%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m */[m[28;69H[K[28;69H311,1[9C46%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H312,1[9C46%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H313,1[9C46%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_bootfs([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H314,1[9C46%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H315,1[9C46%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9H[38;5;121mchar[m *device;[28;69H[K[28;69H316,1[9C46%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H317,1[9C47%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (nargs != [95m2[m) {[28;69H[K[28;69H318,1[9C47%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;17Hkprintf([95m"Usage: bootfs device[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H319,1[9C47%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[93mreturn[m [95mEINVAL[m;[28;69H[K[28;69H320,1[9C47%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H321,1-8[7C47%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[28;69H[K[28;69H322,0-1[7C47%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdevice = args[[95m1[m];[28;69H[K[28;69H323,1-8[7C48%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H324,1-8[7C48%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[96m/* Allow (but do not require) colon after device name */[m[28;69H[K[28;69H325,1-8[7C48%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mif[m (device[strlen(device)-[95m1[m]==[95m':'[m) {[28;69H[K[28;69H326,1-8[7C48%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hdevice[strlen(device)-[95m1[m] = [95m0[m;[28;69H[K[28;69H327,0-1[7C48%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H}[28;69H[K[28;69H328,1-8[7C48%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H329,0-1[7C48%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m vfs_setbootfs(device);[28;69H[K[28;69H330,1-8[7C49%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H331,1-8[7C49%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H332,1-8[7C49%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mstatic[m[28;69H[K[28;69H333,1-8[7C49%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H[38;5;121mint[m[28;69H[K[28;69H334,0-1[7C49%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcmd_kheapstats([38;5;121mint[m nargs, [38;5;121mchar[m **args)[28;69H[K[28;69H335,1-8[7C49%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[6;1H[46m{[22;1H}[m[27;1H{[28;69H[K[28;69H336,1[9C50%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[5;1H{[21;1H}[27;9H([38;5;121mvoid[m)nargs;[28;69H[K[28;69H337,0-1[7C50%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H([38;5;121mvoid[m)args;[28;69H[K[28;69H338,1[9C50%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H339,1[9C50%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hkheap_printstats();[28;69H[K[28;69H340,1[9C50%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H341,1[9C50%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[93mreturn[m [95m0[m;[28;69H[K[28;69H342,1-8[7C51%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H}[28;69H[K[28;69H343,1-8[7C51%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H344,0-1[7C51%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m////////////////////////////////////////[m[28;69H[K[28;69H345,1-8[7C51%[22;8H[?25h[?25l[28;59H~@k[22;8H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;1H[96m//[m[28;69H[K[28;69H346,1-8[7C51%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[96m// Menus.[m[28;69H[K[28;69H347,1-8[7C51%[22;8H[?25h[?25l[1;27r[27;1H
[1;28r[15;1H[46m{[22;1H}[m[28;69H[K[28;69H348,1[9C51%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[14;1H{[21;1H}[27;1H[38;5;121mstatic[m[28;69H[K[28;69H349,0-1[7C52%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;121mvoid[m[28;69H[K[28;69H350,1[9C52%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hshowmenu([38;5;121mconst[m [38;5;121mchar[m *name, [38;5;121mconst[m [38;5;121mchar[m *x[])[28;69H[K[28;69H351,1[9C52%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;1H{[28;69H[K[28;69H352,1[9C52%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;121mint[m ct, half, i;[28;69H[K[28;69H353,0-1[7C52%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H354,1[9C52%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;1H[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[28;69H[K[28;69H355,1[9C53%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hkprintf([95m"[m[38;5;224m%s\n[m[95m"[m, name);[28;69H[K[28;69H356,1[9C53%[22;1H[?25h[?25l[1;27r[27;1H
[1;28r[28;69H[K[28;69H357,1[9C53%[22;1H[?25h[?25l[28;59H~@k[22;1H[28;59H   [22;8H[1;27r[27;1H
[1;28r[27;9H[93mfor[m (i=ct=[95m0[m; x[i]; i++) {[28;69H[K[28;69H358,1-8[7C53%[22;8H[?25h[?25l[28;59H:[22;8H[28;59H[K[28;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[28;1H[K[28;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]777;notify;Command completed;vim menu.c]0;gemerson@localhost://home/gemerson/cs161/src/kern/main]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/main[root@localhost main]# cd ../conf/
]777;notify;Command completed;cd ../conf/]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# ls
ASST0  ASST1  ASST2  ASST2-OPT  ASST3  ASST4  ASST5  [0m[38;5;40mconfig[0m  conf.kern  [38;5;40mnewvers.sh[0m
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# vim conf.kern
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;28r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[28;1H"conf.kern" 454L, 14105C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#[m

file      thread/hardclock.c
file      thread/synch.c
file      thread/scheduler.c
file      thread/thread.c

[34m#
# Main/toplevel stuff
#[m

file      main/main.c
file      main/menu.c
file      main/hello.c

[34m#
# User-level programming/system call support
# (you will probably want to add stuff here while doing the basic system
# calls assignment)
#[m

file      userprog/loadelf.c
file      userprog/runprogram.c
file      userprog/uio.c

[34m#
# Virtual memory system[m[28;69H375,19-22     84%[14;22H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m#[m

file      thread/hardclock.c
file      thread/synch.c
file      thread/scheduler.c
file      thread/thread.c

[96m#
# Main/toplevel stuff
#[m

file      main/main.c
file      main/menu.c
file      main/hello.c

[96m#
# User-level programming/system call support
# (you will probably want to add stuff here while doing the basic system
# calls assignment)
#[m

file      userprog/loadelf.c
file      userprog/runprogram.c
file      userprog/uio.c

[96m#
# Virtual memory system[m[28;69H375,19-22     84%"conf.kern" 454L, 14105C[14;22H[?25h[?25l[28;71H4,21   [13;21H[?25h[?25l[28;71H3[12;21H[?25h[?25l[28;59H~@k[12;21H[28;59H   [11;1H[28;71H2,0-1[11;1H[?25h[?25l[28;71H3,21 [12;21H[?25h[?25l[28;71H4[13;21H[?25h[?25l[28;59H~@k[13;21H[28;59H   [14;21H[28;71H5,18-21[14;21H[?25h[?25l[28;71H6,0-1  [15;1H[?25h[?25l[28;71H7,1  [16;1H[?25h[?25l[28;59H~@k[16;1H[28;59H   [17;21H[28;71H8,21[17;21H[?25h[?25l[28;71H7,1 [16;1H[?25h[?25l[28;71H6,0-1[15;1H[?25h[?25l[28;59H~@k[15;1H[28;59H   [14;21H[28;71H5,18-21[14;21H[?25h[?25l[28;71H6,0-1  [15;1H[?25h[?25l[28;71H7,1  [16;1H[?25h[?25l[28;59H~@k[16;1H[28;59H   [17;21H[28;71H8,21[17;21H[?25h[?25l[28;71H7,1 [16;1H[?25h[?25l[28;71H6,0-1[15;1H[?25h[?25l[28;59H~@k[15;1H[28;59H   [14;21H[28;71H5,18-21[14;21H[?25h[?25l[28;59H:[14;21H[28;1H[K[28;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[28;1H[K[28;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]777;notify;Command completed;vim conf.kern]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# cd ../
]777;notify;Command completed;cd ../]0;gemerson@localhost://home/gemerson/cs161/src/kern]7;file://localhost.localdomain//home/gemerson/cs161/src/kern[root@localhost kern]# cd ..
]777;notify;Command completed;cd ..]0;gemerson@localhost://home/gemerson/cs161/src]7;file://localhost.localdomain//home/gemerson/cs161/src[root@localhost src]# ./configure
Checking for ranlib... yes
Checking for <err.h>... yes
Generating defs.mk.
]777;notify;Command completed;./configure]0;gemerson@localhost://home/gemerson/cs161/src]7;file://localhost.localdomain//home/gemerson/cs161/src[root@localhost src]# cd kern/conf
]777;notify;Command completed;cd kern/conf]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# ls
ASST0  ASST1  ASST2  ASST2-OPT  ASST3  ASST4  ASST5  [0m[38;5;40mconfig[0m  conf.kern  [38;5;40mnewvers.sh[0m
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# config[K[K[K[K[K[K./config ASST0
Configuration ASST0
Generating files... opt-*.h files.mk defs.mk Makefile autoconf.h autoconf.c
Configuration in ../compile/ASST0 done
Remember to make depend
]777;notify;Command completed;./config ASST0]0;gemerson@localhost://home/gemerson/cs161/src/kern/conf]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/conf[root@localhost conf]# cd ../compile/ASST0
]777;notify;Command completed;cd ../compile/ASST0]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# ls
array.o        exception.o     ltrace_att.o      queuetest.o       synch.o
arraytest.o    files.mk        ltrace.o          ram.o             synchtest.o
atoi.o         fstest.o        [0m[38;5;51mmachine[0m           random_lrandom.o  syscall.o
autoconf.c     hardclock.o     main.o            random.o          thread.o
autoconf.h     hello.o         Makefile          rtclock_ltimer.o  threadstart.o
autoconf.o     init.o          malloctest.o      rtclock.o         threadtest.o
beep_ltimer.o  interrupt.o     memcpy.o          runprogram.o      tlb_mips1.o
beep.o         [38;5;40mkernel[0m          memmove.o         scheduler.o       trap.o
bitmap.o       kgets.o         menu.o            sfs_fs.o          tt3.o
bitmaptest.o   kheap.o         mips-setjmp.o     sfs_io.o          uio.o
bzero.o        kprintf.o       misc.o            sfs_vnode.o       vers.c
cache_mips1.o  lamebus_mips.o  ntoh.o            snprintf.o        version
con_lser.o     lamebus.o       opt-dumbvm.h      spl.o             vers.o
console.o      lhd_att.o       opt-netfs.h       start.o           vfscwd.o
copyinout.o    lhd.o           opt-net.h         strcat.o          vfslist.o
defs.mk        loadelf.o       opt-sfs.h         strchr.o          vfslookup.o
depend.mk      lrandom_att.o   opt-synchprobs.h  strcmp.o          vfspath.o
device.o       lrandom.o       pcb.o             strcpy.o          vnode.o
devnull.o      lser_att.o      __printf.o        strlen.o
dumbvm.o       lser.o          pseudorand_att.o  strrchr.o
emu_att.o      ltimer_att.o    pseudorand.o      strtok_r.o
emu.o          ltimer.o        queue.o           switch.o
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# make depend
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -M ../../dev/generic/console.c ../../dev/lamebus/emu.c ../../dev/lamebus/lser.c ../../dev/lamebus/lhd.c ../../dev/generic/pseudorand.c ../../dev/generic/random.c ../../dev/lamebus/ltimer.c ../../dev/lamebus/lamebus.c ../../dev/lamebus/lrandom.c ../../dev/generic/beep.c ../../dev/lamebus/ltrace.c ../../dev/generic/rtclock.c ../../dev/lamebus/ltimer_att.c ../../dev/lamebus/con_lser.c ../../dev/lamebus/lhd_att.c ../../dev/lamebus/random_lrandom.c ../../dev/lamebus/rtclock_ltimer.c ../../dev/lamebus/ltrace_att.c ../../dev/lamebus/lser_att.c ../../dev/lamebus/lrandom_att.c ../../dev/lamebus/emu_att.c ../../dev/lamebus/beep_ltimer.c ../../dev/generic/pseudorand_att.c ../../fs/sfs/sfs_vnode.c ../../fs/sfs/sfs_fs.c ../../arch/mips/mips/dumbvm.c ../../fs/sfs/sfs_io.c ../../arch/mips/mips/cache_mips1.S ../../arch/mips/mips/exception.S ../../arch/mips/mips/lamebus_mips.c ../../arch/mips/mips/interrupt.c ../../arch/mips/mips/pcb.c ../../arch/mips/mips/ram.c ../../arch/mips/mips/spl.c ../../arch/mips/mips/start.S ../../arch/mips/mips/switch.S ../../arch/mips/mips/syscall.c ../../arch/mips/mips/threadstart.S ../../arch/mips/mips/trap.c ../../arch/mips/mips/tlb_mips1.S ../../../lib/libc/mips-setjmp.S ../../lib/copyinout.c ../../lib/array.c ../../lib/bitmap.c ../../lib/queue.c ../../lib/kheap.c ../../lib/kprintf.c ../../lib/kgets.c ../../lib/misc.c ../../lib/ntoh.c ../../../lib/libc/__printf.c ../../../lib/libc/snprintf.c ../../../lib/libc/atoi.c ../../../lib/libc/bzero.c ../../../lib/libc/memcpy.c ../../../lib/libc/memmove.c ../../../lib/libc/strcat.c ../../../lib/libc/strchr.c ../../../lib/libc/strcmp.c ../../../lib/libc/strcpy.c ../../../lib/libc/strlen.c ../../../lib/libc/strrchr.c ../../../lib/libc/strtok_r.c ../../dev/init.c ../../fs/vfs/device.c ../../fs/vfs/vfscwd.c ../../fs/vfs/vfslist.c ../../fs/vfs/vfslookup.c ../../fs/vfs/vfspath.c ../../fs/vfs/vnode.c ../../fs/vfs/devnull.c ../../thread/hardclock.c ../../thread/synch.c ../../thread/scheduler.c ../../thread/thread.c ../../main/main.c ../../main/menu.c ../../main/hello.c ../../userprog/loadelf.c ../../userprog/runprogram.c ../../userprog/uio.c ../../test/arraytest.c ../../test/bitmaptest.c ../../test/queuetest.c ../../test/threadtest.c ../../test/tt3.c ../../test/synchtest.c ../../test/malloctest.c ../../test/fstest.c ../../compile/ASST0/autoconf.c > depend.mk
]777;notify;Command completed;make depend]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# make
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c ../../compile/ASST0/autoconf.c
../../conf/newvers.sh ASST0
*** This is ASST0 build #9 ***
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c vers.c
cs161-ld   -nostdlib -Ttext 0x80001000 -T ../../arch/mips/conf/ldscript -G 0 console.o emu.o lser.o lhd.o pseudorand.o random.o ltimer.o lamebus.o lrandom.o beep.o ltrace.o rtclock.o ltimer_att.o con_lser.o lhd_att.o random_lrandom.o rtclock_ltimer.o ltrace_att.o lser_att.o lrandom_att.o emu_att.o beep_ltimer.o pseudorand_att.o sfs_vnode.o sfs_fs.o dumbvm.o sfs_io.o cache_mips1.o exception.o lamebus_mips.o interrupt.o pcb.o ram.o spl.o start.o switch.o syscall.o threadstart.o trap.o tlb_mips1.o mips-setjmp.o copyinout.o array.o bitmap.o queue.o kheap.o kprintf.o kgets.o misc.o ntoh.o __printf.o snprintf.o atoi.o bzero.o memcpy.o memmove.o strcat.o strchr.o strcmp.o strcpy.o strlen.o strrchr.o strtok_r.o init.o device.o vfscwd.o vfslist.o vfslookup.o vfspath.o vnode.o devnull.o hardclock.o synch.o scheduler.o thread.o main.o menu.o hello.o loadelf.o runprogram.o uio.o arraytest.o bitmaptest.o queuetest.o threadtest.o tt3.o synchtest.o malloctest.o fstest.o autoconf.o vers.o -o kernel
cs161-size kernel
   text	   data	    bss	    dec	    hex	filename
 160632	    448	   7668	 168748	  2932c	kernel
]777;notify;Command completed;make]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# make install
[ -d /root/cs161/root ] || mkdir /root/cs161/root
cp kernel /root/cs161/root/kernel-ASST0
rm -f /root/cs161/root/kernel
ln -s kernel-ASST0 /root/cs161/root/kernel
]777;notify;Command completed;make install]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# clear
[3J[H[2J]777;notify;Command completed;clear]0;gemerson@localhost://home/gemerson/cs161/src/kern/compile/ASST0]7;file://localhost.localdomain//home/gemerson/cs161/src/kern/compile/ASST0[root@localhost ASST0]# cd ../../../
]777;notify;Command completed;cd ../../../]0;gemerson@localhost://home/gemerson/cs161/src]7;file://localhost.localdomain//home/gemerson/cs161/src[root@localhost src]# make
make includes
make[1]: Entering directory '/home/gemerson/cs161/src'
(cd kern && make includes)
make[2]: Entering directory '/home/gemerson/cs161/src/kern'
[ -d /root/cs161/root/include/kern ] || mkdir -p /root/cs161/root/include/kern
[ -d /root/cs161/root/include/mips ] || mkdir -p /root/cs161/root/include/mips
rm -f /root/cs161/root/include/machine
ln -s mips /root/cs161/root/include/machine
Installing kernel includes...
Installing machine-dependent includes for mips...
make[2]: Leaving directory '/home/gemerson/cs161/src/kern'
(cd include && make includes)
make[2]: Entering directory '/home/gemerson/cs161/src/include'
[ -d /root/cs161/root/include ] || mkdir -p /root/cs161/root/include
[ -d /root/cs161/root/include/sys ] || mkdir -p /root/cs161/root/include/sys
Installing library includes...
make[2]: Leaving directory '/home/gemerson/cs161/src/include'
(cd lib/hostcompat && make includes)
make[2]: Entering directory '/home/gemerson/cs161/src/lib/hostcompat'
[ -d /root/cs161/root/hostinclude ] || mkdir /root/cs161/root/hostinclude
rm -f /root/cs161/root/hostinclude/kern
ln -s ../include/kern /root/cs161/root/hostinclude/kern
cp hostcompat.h /root/cs161/root/hostinclude
make[2]: Leaving directory '/home/gemerson/cs161/src/lib/hostcompat'
make[1]: Leaving directory '/home/gemerson/cs161/src'
make depend
make[1]: Entering directory '/home/gemerson/cs161/src'
(cd include && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/include'
make[2]: Nothing to be done for 'depend'.
make[2]: Leaving directory '/home/gemerson/cs161/src/include'
(cd lib && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/lib'
(cd crt0 && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/crt0'
make[3]: 'depend' is up to date.
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/crt0'
(cd libc && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/libc'
make syscalls.S
make[4]: Entering directory '/home/gemerson/cs161/src/lib/libc'
rm -f syscalls.S syscalls.S.tmp
echo '/* Automatically generated from syscalls-mips.S */' \
	> syscalls.S.tmp
cat syscalls-mips.S >> syscalls.S.tmp
./callno-parse.sh < ../../kern/include/kern/callno.h >> syscalls.S.tmp
mv -f syscalls.S.tmp syscalls.S
make[4]: Leaving directory '/home/gemerson/cs161/src/lib/libc'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M __printf.c snprintf.c printf.c atoi.c bzero.c memcmp.c memcpy.c memmove.c memset.c strcat.c strchr.c strcmp.c strcpy.c strlen.c strrchr.c strtok.c strtok_r.c __assert.c __puts.c err.c getchar.c putchar.c puts.c  abort.c errno.c exit.c getcwd.c random.c strerror.c system.c time.c mips-setjmp.S syscalls.S |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/libc'
(cd hostcompat && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/hostcompat'
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude  -MM err.c time.c hostcompat.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > dependh.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/hostcompat'
make[2]: Leaving directory '/home/gemerson/cs161/src/lib'
(cd bin && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/bin'
(cd true && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/true'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M true.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/true'
(cd false && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/false'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M false.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/false'
(cd sync && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sync'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sync.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sync'
(cd mkdir && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mkdir'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mkdir.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mkdir'
(cd rmdir && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rmdir'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmdir.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rmdir'
(cd pwd && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/pwd'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M pwd.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/pwd'
(cd cat && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cat'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M cat.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cat'
(cd cp && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cp'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M cp.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cp'
(cd ln && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ln'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ln.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ln'
(cd mv && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mv'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mv.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mv'
(cd rm && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rm'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rm'
(cd ls && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ls'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ls.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ls'
(cd sh && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sh'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sh.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -MM sh.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sh'
make[2]: Leaving directory '/home/gemerson/cs161/src/bin'
(cd sbin && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/sbin'
(cd reboot && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/reboot'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M reboot.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/reboot'
(cd halt && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/halt'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M halt.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/halt'
(cd poweroff && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/poweroff'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M poweroff.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/poweroff'
(cd mksfs && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/mksfs'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mksfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -MM mksfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/mksfs'
(cd dumpsfs && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/dumpsfs'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dumpsfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -MM dumpsfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory '/home/gemerson/cs161/src/sbin'
(cd testbin && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/testbin'
(cd add && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/add'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M add.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/add'
(cd argtest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/argtest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M argtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/argtest'
(cd badcall && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/badcall'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M bad_execv.c bad_waitpid.c bad_open.c bad_read.c bad_write.c bad_close.c bad_reboot.c bad_sbrk.c bad_ioctl.c bad_lseek.c bad_fsync.c bad_ftruncate.c bad_stat.c bad_remove.c bad_rename.c bad_link.c bad_mkdir.c bad_rmdir.c bad_chdir.c bad_getdirentry.c bad_symlink.c bad_readlink.c bad_dup2.c bad_pipe.c bad_time.c bad_getcwd.c common_buf.c common_fds.c common_path.c driver.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/badcall'
(cd bigfile && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/bigfile'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M bigfile.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/bigfile'
(cd conman && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/conman'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M conman.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/conman'
(cd crash && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/crash'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M crash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/crash'
(cd ctest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/ctest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ctest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/ctest'
(cd dirconc && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirconc'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirconc.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirconc'
(cd dirseek && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirseek'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirseek.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirseek'
(cd dirtest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirtest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirtest'
(cd f_test && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/f_test'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M f_test.c f_read.c f_write.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/f_test'
(cd farm && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/farm'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M farm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/farm'
(cd faulter && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/faulter'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M faulter.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/faulter'
(cd filetest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/filetest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M filetest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/filetest'
(cd forkbomb && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forkbomb'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M forkbomb.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forkbomb'
(cd forktest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forktest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M forktest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forktest'
(cd guzzle && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/guzzle'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M guzzle.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/guzzle'
(cd hash && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hash'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M hash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -MM hash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hash'
(cd hog && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hog'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M hog.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hog'
(cd huge && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/huge'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M huge.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/huge'
(cd kitchen && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/kitchen'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M kitchen.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/kitchen'
(cd matmult && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/matmult'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M matmult.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/matmult'
(cd palin && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/palin'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M palin.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/palin'
(cd parallelvm && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/parallelvm'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M parallelvm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/parallelvm'
(cd randcall && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/randcall'
make calls.c
make[4]: Entering directory '/home/gemerson/cs161/src/testbin/randcall'
make[4]: 'calls.c' is up to date.
make[4]: Leaving directory '/home/gemerson/cs161/src/testbin/randcall'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M calls.c main.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/randcall'
(cd rmdirtest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmdirtest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmdirtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmdirtest'
(cd rmtest && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmtest'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmtest'
(cd sink && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sink'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sink.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sink'
(cd sort && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sort'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sort.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sort'
(cd sty && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sty'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sty.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sty'
(cd tail && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tail'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M tail.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tail'
(cd tictac && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tictac'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M tictac.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tictac'
(cd triplehuge && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplehuge'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplehuge.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplehuge'
(cd triplemat && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplemat'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplemat.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplemat'
(cd triplesort && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplesort'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplesort.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/root/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplesort'
make[2]: Leaving directory '/home/gemerson/cs161/src/testbin'
(cd man && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/man'
(cd toplevel && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/toplevel'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/toplevel'
(cd bin && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/bin'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/bin'
(cd sbin && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/sbin'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/sbin'
(cd testbin && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/testbin'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/testbin'
(cd libc && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/libc'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/libc'
(cd syscall && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/syscall'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/syscall'
(cd dev && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/dev'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/dev'
(cd misc && make depend)
make[3]: Entering directory '/home/gemerson/cs161/src/man/misc'
make[3]: Nothing to be done for 'depend'.
make[3]: Leaving directory '/home/gemerson/cs161/src/man/misc'
make[2]: Leaving directory '/home/gemerson/cs161/src/man'
(cd kern && make depend)
make[2]: Entering directory '/home/gemerson/cs161/src/kern'
make[2]: Nothing to be done for 'depend'.
make[2]: Leaving directory '/home/gemerson/cs161/src/kern'
make[1]: Leaving directory '/home/gemerson/cs161/src'
make compile
make[1]: Entering directory '/home/gemerson/cs161/src'
(cd lib && make)
make[2]: Entering directory '/home/gemerson/cs161/src/lib'
(cd crt0 && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/crt0'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -c mips-crt0.S -o crt0.o
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/crt0'
(cd libc && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/libc'
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -c mips-setjmp.S
cs161-gcc  -nostdinc -I/root/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -c syscalls.S
cs161-ar -cruv libc.a __printf.o snprintf.o printf.o atoi.o bzero.o memcmp.o memcpy.o memmove.o memset.o strcat.o strchr.o strcmp.o strcpy.o strlen.o strrchr.o strtok.o strtok_r.o __assert.o __puts.o err.o getchar.o putchar.o puts.o abort.o errno.o exit.o getcwd.o random.o strerror.o system.o time.o mips-setjmp.o syscalls.o
r - mips-setjmp.o
r - syscalls.o
cs161-ranlib libc.a
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/libc'
(cd hostcompat && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/hostcompat'
make[3]: Nothing to be done for 'all'.
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/hostcompat'
make[2]: Leaving directory '/home/gemerson/cs161/src/lib'
(cd lib && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/lib'
(cd crt0 && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/crt0'
[ -d /root/cs161/root/lib ] || mkdir /root/cs161/root/lib
cp crt0.o /root/cs161/root/lib
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/crt0'
(cd libc && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/libc'
[ -d /root/cs161/root/lib ] || mkdir /root/cs161/root/lib
cp libc.a /root/cs161/root/lib
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/libc'
(cd hostcompat && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/lib/hostcompat'
[ -d /root/cs161/root/hostlib ] || mkdir /root/cs161/root/hostlib
cp libhostcompat.ha /root/cs161/root/hostlib/libhostcompat.a
ranlib /root/cs161/root/hostlib/libhostcompat.a
make[3]: Leaving directory '/home/gemerson/cs161/src/lib/hostcompat'
make[2]: Leaving directory '/home/gemerson/cs161/src/lib'
(cd bin && make)
make[2]: Entering directory '/home/gemerson/cs161/src/bin'
(cd true && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/true'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   true.o   -lc \
   -o true
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/true'
(cd false && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/false'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   false.o   -lc \
   -o false
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/false'
(cd sync && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sync'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   sync.o   -lc \
   -o sync
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sync'
(cd mkdir && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mkdir'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   mkdir.o   -lc \
   -o mkdir
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mkdir'
(cd rmdir && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rmdir'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   rmdir.o   -lc \
   -o rmdir
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rmdir'
(cd pwd && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/pwd'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   pwd.o   -lc \
   -o pwd
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/pwd'
(cd cat && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cat'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   cat.o   -lc \
   -o cat
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cat'
(cd cp && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cp'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   cp.o   -lc \
   -o cp
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cp'
(cd ln && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ln'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   ln.o   -lc \
   -o ln
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ln'
(cd mv && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mv'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   mv.o   -lc \
   -o mv
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mv'
(cd rm && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rm'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   rm.o   -lc \
   -o rm
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rm'
(cd ls && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ls'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   ls.o   -lc \
   -o ls
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ls'
(cd sh && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sh'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   sh.o   -lc \
   -o sh
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -c sh.c -o sh.ho
gcc   sh.ho   \
  /root/cs161/root/hostlib/libhostcompat.a -o host-sh
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sh'
make[2]: Leaving directory '/home/gemerson/cs161/src/bin'
(cd sbin && make)
make[2]: Entering directory '/home/gemerson/cs161/src/sbin'
(cd reboot && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/reboot'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   reboot.o   -lc \
   -o reboot
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/reboot'
(cd halt && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/halt'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   halt.o   -lc \
   -o halt
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/halt'
(cd poweroff && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/poweroff'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   poweroff.o   -lc \
   -o poweroff
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/poweroff'
(cd mksfs && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/mksfs'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   mksfs.o disk.o support.o   -lc \
   -o mksfs
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -c mksfs.c -o mksfs.ho
gcc   mksfs.ho disk.ho support.ho   \
  /root/cs161/root/hostlib/libhostcompat.a -o host-mksfs
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/mksfs'
(cd dumpsfs && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/dumpsfs'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   dumpsfs.o disk.o support.o   -lc \
   -o dumpsfs
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -c dumpsfs.c -o dumpsfs.ho
gcc   dumpsfs.ho disk.ho support.ho   \
  /root/cs161/root/hostlib/libhostcompat.a -o host-dumpsfs
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory '/home/gemerson/cs161/src/sbin'
(cd testbin && make)
make[2]: Entering directory '/home/gemerson/cs161/src/testbin'
(cd add && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/add'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   add.o   -lc \
   -o add
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/add'
(cd argtest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/argtest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   argtest.o   -lc \
   -o argtest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/argtest'
(cd badcall && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/badcall'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   bad_execv.o bad_waitpid.o bad_open.o bad_read.o bad_write.o bad_close.o bad_reboot.o bad_sbrk.o bad_ioctl.o bad_lseek.o bad_fsync.o bad_ftruncate.o bad_stat.o bad_remove.o bad_rename.o bad_link.o bad_mkdir.o bad_rmdir.o bad_chdir.o bad_getdirentry.o bad_symlink.o bad_readlink.o bad_dup2.o bad_pipe.o bad_time.o bad_getcwd.o common_buf.o common_fds.o common_path.o driver.o   -lc \
   -o badcall
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/badcall'
(cd bigfile && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/bigfile'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   bigfile.o   -lc \
   -o bigfile
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/bigfile'
(cd conman && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/conman'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   conman.o   -lc \
   -o conman
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/conman'
(cd crash && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/crash'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   crash.o   -lc \
   -o crash
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/crash'
(cd ctest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/ctest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   ctest.o   -lc \
   -o ctest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/ctest'
(cd dirconc && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirconc'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   dirconc.o   -lc \
   -o dirconc
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirconc'
(cd dirseek && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirseek'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   dirseek.o   -lc \
   -o dirseek
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirseek'
(cd dirtest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirtest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   dirtest.o   -lc \
   -o dirtest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirtest'
(cd f_test && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/f_test'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   f_test.o f_read.o f_write.o   -lc \
   -o f_test
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/f_test'
(cd farm && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/farm'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   farm.o   -lc \
   -o farm
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/farm'
(cd faulter && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/faulter'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   faulter.o   -lc \
   -o faulter
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/faulter'
(cd filetest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/filetest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   filetest.o   -lc \
   -o filetest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/filetest'
(cd forkbomb && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forkbomb'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   forkbomb.o   -lc \
   -o forkbomb
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forkbomb'
(cd forktest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forktest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   forktest.o   -lc \
   -o forktest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forktest'
(cd guzzle && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/guzzle'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   guzzle.o   -lc \
   -o guzzle
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/guzzle'
(cd hash && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hash'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   hash.o   -lc \
   -o hash
gcc  -Wall -W -Wwrite-strings -O2 -I/root/cs161/root/hostinclude -DHOST -c hash.c -o hash.ho
gcc   hash.ho   \
  /root/cs161/root/hostlib/libhostcompat.a -o host-hash
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hash'
(cd hog && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hog'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   hog.o   -lc \
   -o hog
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hog'
(cd huge && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/huge'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   huge.o   -lc \
   -o huge
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/huge'
(cd kitchen && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/kitchen'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   kitchen.o   -lc \
   -o kitchen
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/kitchen'
(cd matmult && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/matmult'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   matmult.o   -lc \
   -o matmult
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/matmult'
(cd palin && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/palin'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   palin.o   -lc \
   -o palin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/palin'
(cd parallelvm && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/parallelvm'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   parallelvm.o   -lc \
   -o parallelvm
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/parallelvm'
(cd randcall && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/randcall'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   calls.o main.o   -lc \
   -o randcall
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/randcall'
(cd rmdirtest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmdirtest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   rmdirtest.o   -lc \
   -o rmdirtest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmdirtest'
(cd rmtest && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmtest'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   rmtest.o   -lc \
   -o rmtest
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmtest'
(cd sink && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sink'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   sink.o   -lc \
   -o sink
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sink'
(cd sort && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sort'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   sort.o   -lc \
   -o sort
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sort'
(cd sty && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sty'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   sty.o   -lc \
   -o sty
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sty'
(cd tail && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tail'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   tail.o   -lc \
   -o tail
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tail'
(cd tictac && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tictac'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   tictac.o   -lc \
   -o tictac
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tictac'
(cd triplehuge && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplehuge'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   triplehuge.o triple.o   -lc \
   -o triplehuge
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplehuge'
(cd triplemat && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplemat'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   triplemat.o triple.o   -lc \
   -o triplemat
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplemat'
(cd triplesort && make all)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplesort'
cs161-gcc -nostdlib -L/root/cs161/root/lib /root/cs161/root/lib/crt0.o   triplesort.o triple.o   -lc \
   -o triplesort
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplesort'
make[2]: Leaving directory '/home/gemerson/cs161/src/testbin'
(cd bin && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/bin'
(cd true && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/true'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp true /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/true'
(cd false && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/false'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp false /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/false'
(cd sync && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sync'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp sync /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sync'
(cd mkdir && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mkdir'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp mkdir /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mkdir'
(cd rmdir && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rmdir'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp rmdir /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rmdir'
(cd pwd && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/pwd'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp pwd /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/pwd'
(cd cat && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cat'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp cat /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cat'
(cd cp && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/cp'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp cp /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/cp'
(cd ln && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ln'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp ln /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ln'
(cd mv && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/mv'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp mv /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/mv'
(cd rm && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/rm'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp rm /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/rm'
(cd ls && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/ls'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp ls /root/cs161/root/bin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/ls'
(cd sh && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/bin/sh'
[ -d /root/cs161/root/bin ] || mkdir /root/cs161/root/bin
cp sh /root/cs161/root/bin
[ -d /root/cs161/root/hostbin ] || mkdir /root/cs161/root/hostbin
cp host-sh /root/cs161/root/hostbin
make[3]: Leaving directory '/home/gemerson/cs161/src/bin/sh'
make[2]: Leaving directory '/home/gemerson/cs161/src/bin'
(cd sbin && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/sbin'
(cd reboot && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/reboot'
[ -d /root/cs161/root/sbin ] || mkdir /root/cs161/root/sbin
cp reboot /root/cs161/root/sbin
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/reboot'
(cd halt && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/halt'
[ -d /root/cs161/root/sbin ] || mkdir /root/cs161/root/sbin
cp halt /root/cs161/root/sbin
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/halt'
(cd poweroff && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/poweroff'
[ -d /root/cs161/root/sbin ] || mkdir /root/cs161/root/sbin
cp poweroff /root/cs161/root/sbin
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/poweroff'
(cd mksfs && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/mksfs'
[ -d /root/cs161/root/sbin ] || mkdir /root/cs161/root/sbin
cp mksfs /root/cs161/root/sbin
[ -d /root/cs161/root/hostbin ] || mkdir /root/cs161/root/hostbin
cp host-mksfs /root/cs161/root/hostbin
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/mksfs'
(cd dumpsfs && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/sbin/dumpsfs'
[ -d /root/cs161/root/sbin ] || mkdir /root/cs161/root/sbin
cp dumpsfs /root/cs161/root/sbin
[ -d /root/cs161/root/hostbin ] || mkdir /root/cs161/root/hostbin
cp host-dumpsfs /root/cs161/root/hostbin
make[3]: Leaving directory '/home/gemerson/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory '/home/gemerson/cs161/src/sbin'
(cd testbin && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/testbin'
(cd add && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/add'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp add /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/add'
(cd argtest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/argtest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp argtest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/argtest'
(cd badcall && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/badcall'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp badcall /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/badcall'
(cd bigfile && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/bigfile'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp bigfile /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/bigfile'
(cd conman && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/conman'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp conman /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/conman'
(cd crash && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/crash'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp crash /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/crash'
(cd ctest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/ctest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp ctest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/ctest'
(cd dirconc && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirconc'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp dirconc /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirconc'
(cd dirseek && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirseek'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp dirseek /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirseek'
(cd dirtest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/dirtest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp dirtest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/dirtest'
(cd f_test && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/f_test'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp f_test /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/f_test'
(cd farm && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/farm'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp farm /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/farm'
(cd faulter && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/faulter'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp faulter /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/faulter'
(cd filetest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/filetest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp filetest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/filetest'
(cd forkbomb && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forkbomb'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp forkbomb /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forkbomb'
(cd forktest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/forktest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp forktest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/forktest'
(cd guzzle && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/guzzle'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp guzzle /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/guzzle'
(cd hash && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hash'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp hash /root/cs161/root/testbin
[ -d /root/cs161/root/hostbin ] || mkdir /root/cs161/root/hostbin
cp host-hash /root/cs161/root/hostbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hash'
(cd hog && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/hog'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp hog /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/hog'
(cd huge && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/huge'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp huge /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/huge'
(cd kitchen && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/kitchen'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp kitchen /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/kitchen'
(cd matmult && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/matmult'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp matmult /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/matmult'
(cd palin && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/palin'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp palin /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/palin'
(cd parallelvm && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/parallelvm'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp parallelvm /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/parallelvm'
(cd randcall && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/randcall'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp randcall /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/randcall'
(cd rmdirtest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmdirtest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp rmdirtest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmdirtest'
(cd rmtest && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/rmtest'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp rmtest /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/rmtest'
(cd sink && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sink'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp sink /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sink'
(cd sort && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sort'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp sort /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sort'
(cd sty && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/sty'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp sty /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/sty'
(cd tail && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tail'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp tail /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tail'
(cd tictac && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/tictac'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp tictac /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/tictac'
(cd triplehuge && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplehuge'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp triplehuge /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplehuge'
(cd triplemat && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplemat'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp triplemat /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplemat'
(cd triplesort && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/testbin/triplesort'
[ -d /root/cs161/root/testbin ] || mkdir /root/cs161/root/testbin
cp triplesort /root/cs161/root/testbin
make[3]: Leaving directory '/home/gemerson/cs161/src/testbin/triplesort'
make[2]: Leaving directory '/home/gemerson/cs161/src/testbin'
(cd man && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/man'
(cd toplevel && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/toplevel'
[ -d /root/cs161/root/man ] || mkdir /root/cs161/root/man
chmod a+rx /root/cs161/root/man
cp *.html /root/cs161/root/man
chmod a+r /root/cs161/root/man/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/toplevel'
(cd bin && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/bin'
[ -d /root/cs161/root/man/bin ] || mkdir /root/cs161/root/man/bin
chmod a+rx /root/cs161/root/man/bin
cp *.html /root/cs161/root/man/bin
chmod a+r /root/cs161/root/man/bin/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/bin'
(cd sbin && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/sbin'
[ -d /root/cs161/root/man/sbin ] || mkdir /root/cs161/root/man/sbin
chmod a+rx /root/cs161/root/man/sbin
cp *.html /root/cs161/root/man/sbin
chmod a+r /root/cs161/root/man/sbin/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/sbin'
(cd testbin && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/testbin'
[ -d /root/cs161/root/man/testbin ] || mkdir /root/cs161/root/man/testbin
chmod a+rx /root/cs161/root/man/testbin
cp *.html /root/cs161/root/man/testbin
chmod a+r /root/cs161/root/man/testbin/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/testbin'
(cd libc && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/libc'
[ -d /root/cs161/root/man/libc ] || mkdir /root/cs161/root/man/libc
chmod a+rx /root/cs161/root/man/libc
cp *.html /root/cs161/root/man/libc
chmod a+r /root/cs161/root/man/libc/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/libc'
(cd syscall && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/syscall'
[ -d /root/cs161/root/man/syscall ] || mkdir /root/cs161/root/man/syscall
chmod a+rx /root/cs161/root/man/syscall
cp *.html /root/cs161/root/man/syscall
chmod a+r /root/cs161/root/man/syscall/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/syscall'
(cd dev && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/dev'
[ -d /root/cs161/root/man/dev ] || mkdir /root/cs161/root/man/dev
chmod a+rx /root/cs161/root/man/dev
cp *.html /root/cs161/root/man/dev
chmod a+r /root/cs161/root/man/dev/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/dev'
(cd misc && make install)
make[3]: Entering directory '/home/gemerson/cs161/src/man/misc'
[ -d /root/cs161/root/man/misc ] || mkdir /root/cs161/root/man/misc
chmod a+rx /root/cs161/root/man/misc
cp *.html /root/cs161/root/man/misc
chmod a+r /root/cs161/root/man/misc/*.html
make[3]: Leaving directory '/home/gemerson/cs161/src/man/misc'
make[2]: Leaving directory '/home/gemerson/cs161/src/man'
(cd kern && make)
make[2]: Entering directory '/home/gemerson/cs161/src/kern'
make[2]: Nothing to be done for 'all'.
make[2]: Leaving directory '/home/gemerson/cs161/src/kern'
(cd kern && make install)
make[2]: Entering directory '/home/gemerson/cs161/src/kern'
make[2]: Nothing to be done for 'install'.
make[2]: Leaving directory '/home/gemerson/cs161/src/kern'
make[1]: Leaving directory '/home/gemerson/cs161/src'
]777;notify;Command completed;make]0;gemerson@localhost://home/gemerson/cs161/src]7;file://localhost.localdomain//home/gemerson/cs161/src[root@localhost src]# cd ..
]777;notify;Command completed;cd ..]0;gemerson@localhost://home/gemerson/cs161]7;file://localhost.localdomain//home/gemerson/cs161[root@localhost cs161]# ls
[0m[38;5;33masst0[0m               [38;5;33mcs161-gcc-1.5[0m  [38;5;33mroot[0m  [38;5;33msys161-1.14[0m
[38;5;33mcs161-binutils-1.5[0m  [38;5;33mcs161-gdb-1.5[0m  [38;5;33msrc[0m   typescript
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161]7;file://localhost.localdomain//home/gemerson/cs161[root@localhost cs161]# cd root
]777;notify;Command completed;cd root]0;gemerson@localhost://home/gemerson/cs161/root]7;file://localhost.localdomain//home/gemerson/cs161/root[root@localhost root]# ls
[0m[38;5;33mbin[0m          [38;5;40mhub161-1.14[0m   [38;5;33mman[0m           [38;5;40msys161-1.14[0m         [38;5;40mtrace161-1.14[0m
[38;5;33mhostbin[0m      [38;5;33minclude[0m       [38;5;33msbin[0m          sys161.conf
[38;5;33mhostinclude[0m  [38;5;51mkernel[0m        [38;5;51mstat161[0m       sys161.conf.sample
[38;5;33mhostlib[0m      [38;5;40mkernel-ASST0[0m  [38;5;40mstat161-1.14[0m  [38;5;33mtestbin[0m
[38;5;51mhub161[0m       [38;5;33mlib[0m           [38;5;51msys161[0m        [38;5;51mtrace161[0m
]777;notify;Command completed;ls]0;gemerson@localhost://home/gemerson/cs161/root]7;file://localhost.localdomain//home/gemerson/cs161/root[root@localhost root]# ./sys161 kernel
sys161: System/161 release 1.14, compiled Feb  4 2021 11:43:24

OS/161 base system version 1.10
Copyright (c) 2000, 2001, 2002, 2003
   President and Fellows of Harvard College.  All rights reserved.

Put-your-group-name-here's system version 0 (ASST0 #7)

Cpu is MIPS r2000/r3000
1872k physical memory available
Device probe...
lamebus0 (system main bus)
emu0 at lamebus0
ltrace0 at lamebus0
ltimer0 at lamebus0
hardclock on ltimer0 (100 hz)
beep0 at ltimer0
rtclock0 at ltimer0
lrandom0 at lamebus0
random0 at lrandom0
lser0 at lamebus0
con0 at lser0
pseudorand0 (virtual)

OS/161 kernel [? for menu]: ?

OS/161 kernel menu
    [?o] Operations menu                [kh] Kernel heap stats              
    [?t] Tests menu                     [q] Quit and shut down              

Operation took 0.021521200 seconds
OS/161 kernel [? for menu]: ?

OS/161 kernel menu
    [?o] Operations menu                [kh] Kernel heap stats              
    [?t] Tests menu                     [q] Quit and shut down              

Operation took 0.021520120 seconds
OS/161 kernel [? for menu]: q
Shutting down.
The system is halted.
sys161: 296323325 cycles (5160365k, 0u, 291162960i)
sys161: 2208 irqs 0 exns 0r/0w disk 6r/1060w console 0r/0w/1m emufs 0r/0w net
sys161: Elapsed real time: 11.860961 seconds (24.9831 mhz)
sys161: Elapsed virtual time: 11.852933000 seconds (25 mhz)
]777;notify;Command completed;./sys161 kernel]0;gemerson@localhost://home/gemerson/cs161/root]7;file://localhost.localdomain//home/gemerson/cs161/root[root@localhost root]# exit
exit

Script done on 2021-02-05 13:28:28-06:00
